{"version":3,"sources":["constants.js","redux/constants.js","utils/utils.js","redux/selectors/selectMapData.js","redux/selectors/selectHeroData.js","redux/actions/setDialogCharacterNameAction.js","redux/actions/setDialogMessagesAction.js","redux/actions/setDialogActionAction.js","utils/sceneHelpers.js","utils/phaser.js","redux/selectors/selectGameData.js","redux/reducers/loadedAssetsReducer.js","redux/reducers/gameDataReducer.js","redux/reducers/heroDataReducer.js","redux/reducers/mapDataReducer.js","redux/reducers/dialogReducer.js","redux/reducers/menuReducer.js","redux/reducers/index.js","redux/store.js","redux/selectors/selectDialog.js","assets/images/d_pad_button.png","redux/selectors/selectMenu.js","assets/atlases/generated lazy /^/.//.*/.json$/ groupOptions: {} namespace object","../ /^/.//.*/.png$/ groupOptions: {} namespace object","assets/images/a_button.png","assets/images/b_button.png","webpack:///./node_modules/file-loader/dist/cjs.js ^\\.\\/.*\\.png$ namespace object?8b65","Game.jsx","game/scenes/GameScene.js","game/scenes/BootScene.js","redux/actions/setGameHeightAction.js","redux/actions/setGameWidthAction.js","redux/actions/setGameZoomAction.js","components/VirtualGamepad.jsx","components/GameMenu.jsx","redux/actions/addLoadedFontAction.js","redux/actions/addLoadedAtlasAction.js","redux/actions/addLoadedImageAction.js","redux/actions/addLoadedMapAction.js","redux/actions/addLoadedJSONAction.js","redux/actions/addTilesetAction.js","redux/selectors/selectLoadedAssets.js","game/scenes/LoadAssetsScene.js","redux/actions/setMapKeyAction.js","redux/actions/setHeroFacingDirectionAction.js","redux/actions/setHeroInitialPositionAction.js","redux/actions/setHeroPreviousPositionAction.js","redux/actions/setHeroInitialFrameAction.js","redux/actions/setMenuItemsAction.js","redux/actions/setMenuOnSelectAction.js","game/scenes/MainMenuScene.js","components/Message.jsx","components/DialogBox.jsx","index.js","assets/maps weak /^/.//.*$","assets/images weak /^/.//.*$","assets/tilesets weak /^/.//.*$","assets/atlases/generated weak /^/.//.*$","assets/maps lazy /^/.//.*/.json$/ groupOptions: {} namespace object","assets/tilesets lazy /^/.//.*/.json$/ groupOptions: {} namespace object","assets/tilesets lazy /^/.//.*$/ groupOptions: {} namespace object","../ /^/.//.*$/ groupOptions: {} namespace object"],"names":["TILE_WIDTH","TILE_HEIGHT","MIN_GAME_WIDTH","MIN_GAME_HEIGHT","RESIZE_THRESHOLD","HERO_SPRITE_NAME","ENEMY_SPRITE_NAME","COIN_SPRITE_NAME","HEART_SPRITE_NAME","CRYSTAL_SPRITE_NAME","KEY_SPRITE_NAME","ENEMY","COIN","HEART","CRYSTAL","KEY","IDLE_FRAME","RIGHT_DIRECTION","LEFT_DIRECTION","UP_DIRECTION","DOWN_DIRECTION","IGNORED_TILESETS","ENTER_KEY","SPACE_KEY","ESCAPE_KEY","ARROW_LEFT_KEY","ARROW_UP_KEY","ARROW_RIGHT_KEY","ARROW_DOWN_KEY","ADD_LOADED_FONT","ADD_LOADED_ATLAS","ADD_LOADED_IMAGE","ADD_LOADED_MAP","ADD_LOADED_JSON","SET_MAP_KEY","ADD_TILESET","SET_FACING_DIRECTION","SET_INITIAL_POSITION","SET_PREVIOUS_POSITION","SET_INITIAL_FRAME","SET_GAME_WIDTH","SET_GAME_HEIGHT","SET_GAME_ZOOM","SET_DIALOG_MESSAGES","SET_DIALOG_ACTION","SET_DIALOG_CHARACTER_NAME","SET_MENU_ITEMS","SET_MENU_POSITION","ADD_MENU_ITEM","SET_MENU_ON_SELECT","simulateKeyEvent","code","type","keysMap","event","document","createEvent","initEvent","keyCode","dispatchEvent","createInteractiveGameObject","scene","x","y","width","height","isDebug","origin","customCollider","GameObjects","Rectangle","setOrigin","setFillStyle","physics","add","existing","isMapFileAvailable","file","console","error","isImageFileAvailable","isTilesetFileAvailable","isGeneratedAtlasFileAvailable","selectMapKey","state","mapData","mapKey","selectTilesets","tilesets","selectHeroFacingDirection","heroData","facingDirection","selectHeroInitialPosition","initialPosition","selectHeroInitialFrame","initialFrame","setDialogCharacterNameAction","payload","dispatch","setDialogMessagesAction","setDialogActionAction","getSelectorData","selector","getState","store","handleCreateCharactersMovements","gridEngine","movementStarted","subscribe","charId","direction","char","sprites","getChildren","find","sprite","name","anims","play","texture","key","movementStopped","stop","setFrame","replace","directionChanged","handleCreateControls","actionKey","input","keyboard","addKey","Input","Keyboard","KeyCodes","SPACE","cursors","createCursorKeys","wasd","addKeys","W","S","A","D","handleCreateGroups","group","enemies","items","handleCreateMap","map","make","tilemap","forEach","tilesetName","addTilesetImage","layers","layerData","index","createLayer","handleCreateHero","heroSprite","setName","setDepth","actionCollider","update","time","delta","getFacingDirection","setX","actionColliderSizeOffset","setY","handleObjectsLayer","objects","objectLayerData","layerIndex","object","objectIndex","gid","properties","enemy","addCharacter","id","offsetY","startPosition","Math","floor","enemyActionHeroCollider","collider","e","a","JustDown","selectDialogMessages","length","active","delayedCall","coin","animationKey","exists","create","frames","Array","from","n","frame","toString","padStart","frameRate","repeat","yoyo","heart","image","crystal","handleConfigureCamera","game","sys","camera","cameras","main","startFollow","setFollowOffset","setBounds","max","widthInPixels","scale","gameSize","heightInPixels","setPosition","handleCreateHeroAnimations","assetKey","animationName","frameQuantity","createWalkingAnimation","handleConfigureGridEngine","characterCollisionStrategy","collisionTilePropertyName","numberOfDirections","characters","handleHeroMovement","left","isDown","move","right","up","down","changeScene","nextScene","assets","start","calculateGameSize","tileWidth","tileHeight","widthThreshold","heightThreshold","widthScale","window","innerWidth","heightScale","innerHeight","zoom","min","newWidth","newHeight","asyncLoader","loaderPlugin","Promise","resolve","reject","on","selectGameWidth","selectGameHeight","selectGameZoom","defaultState","fonts","atlases","images","maps","jsons","loadedAssetsReducer","action","gameDataReducer","previousPosition","heroDataReducer","mapDataReducer","messages","characterName","dialogReducer","position","onSelect","menuReducer","combineReducers","loadedAssets","dialog","menu","configureStore","initialState","createStore","rootReducer","applyMiddleware","thunk","selectDialogAction","selectDialogCharacterName","selectMenuItems","selectMenuPosition","selectMenuOnSelect","webpackAsyncContext","req","__webpack_require__","o","then","Error","ids","t","keys","Object","module","exports","all","slice","Game","useDispatch","useState","setGame","dialogMessages","useSelector","menuItems","updateGameReduxState","useCallback","gameWidth","gameHeight","gameZoom","setGameHeightAction","setGameWidthAction","setGameZoomAction","useEffect","timeOutFunctionId","phaserGame","Phaser","AUTO","title","parent","orientation","Scale","LANDSCAPE","localStorageName","autoRound","pixelArt","autoCenter","CENTER_BOTH","mode","NONE","BootScene","LoadAssetsScene","GameScene","MainMenuScene","default","arcade","debug","process","NODE_ENV","plugins","plugin","GridEngine","mapping","backgroundColor","workAfterResizeIsDone","resize","setZoom","addEventListener","clearTimeout","setTimeout","isMobile","this","Scene","useStyles","makeStyles","theme","buttonsWrapper","display","justifyContent","padding","marginTop","ceil","userSelect","userDrag","zIndex","button","pointerEvents","filter","aButton","bButton","dPadWrapper","dPadLeft","marginBottom","dPadRight","transform","dPadUp","marginLeft","dPadDown","VirtualGamepad","classes","dPadLeftRef","useRef","dPadRightRef","dPadUpRef","dPadDownRef","aButtonRef","bButtonRef","eventRef","wasAButtonClicked","current","getBoundingClientRect","elX","elY","radius","Geom","Circle","contains","wasBButtonClicked","wasLeftButtonClicked","top","bottom","Polygon","wasUpButtonClicked","wasRightButtonClicked","wasDownButtonClicked","getPressedButton","handleButtonPressed","pressedButton","element","classList","remove","handlePointerDown","handlePointerUp","removeEventListener","handleContextMenuCallback","preventDefault","stopPropagation","className","ref","classNames","src","dPadButton","alt","onContextMenu","menuWrapper","fontFamily","fontSize","textTransform","menuPositionWrapper","menuWidth","minWidth","menuItemsWrapper","textAlign","menuItem","cursor","listStyle","border","selectedMenuItem","GameMenu","onSelected","selectedItemIndex","setSelectedItemIndex","handleKeyPressed","item","onMouseEnter","onClick","addLoadedFontAction","addLoadedAtlasAction","addLoadedImageAction","addLoadedMapAction","addLoadedJSONAction","addTilesetAction","selectLoadedFonts","selectLoadedAtlases","selectLoadedImages","selectLoadedMaps","selectLoadedJSONs","initData","newFontsCount","font","includes","color","config","text","Display","Color","RGBToString","r","g","b","loadedAtlases","loadedImages","loadedMaps","mapJson","tileset","source","split","pop","layer","spriteName","jsonPath","imagePath","load","atlas","property","value","loadedJSONs","tilesetJson","jsonResult","json","cache","get","tilesetImage","imageExtension","tilemapTiledJSON","imageName","textures","ready","fontFace","setMapKeyAction","setHeroFacingDirectionAction","setHeroInitialPositionAction","setHeroPreviousPositionAction","setHeroInitialFrameAction","setMenuItemsAction","setMenuOnSelectAction","handleStartGameSelected","location","reload","dialogMessage","lineHeight","Message","message","trail","onMessageEnded","forceShowFullMessage","useMemo","trim","letter","transitions","useTransition","enter","onRest","status","controller","styles","span","style","dialogWindow","imageRendering","minHeight","maxHeight","dialogTitle","fontWeight","dialogFooter","DialogBox","dialogAction","currentMessage","setCurrentMessage","messageEnded","setMessageEnded","setForceShowFullMessage","handleClick","createTheme","ReactDOM","render","getElementById","webpackContext","webpackContextResolve","m"],"mappings":"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","file":"static/js/main.4c3b0e8d.chunk.js","sourcesContent":["export const TILE_WIDTH = 16;\r\nexport const TILE_HEIGHT = 16;\r\n\r\nexport const MIN_GAME_WIDTH = 25 * TILE_WIDTH; // 400\r\nexport const MIN_GAME_HEIGHT = 14 * TILE_HEIGHT; // 224\r\n\r\nexport const RESIZE_THRESHOLD = 500;\r\n\r\nexport const HERO_SPRITE_NAME = 'hero';\r\nexport const ENEMY_SPRITE_NAME = 'enemy';\r\nexport const COIN_SPRITE_NAME = 'coin';\r\nexport const HEART_SPRITE_NAME = 'heart';\r\nexport const CRYSTAL_SPRITE_NAME = 'crystal';\r\nexport const KEY_SPRITE_NAME = 'key';\r\n\r\n// Game Objects Tiled IDs\r\nexport const ENEMY = 1;\r\nexport const COIN = 2;\r\nexport const HEART = 3;\r\nexport const CRYSTAL = 4;\r\nexport const KEY = 5;\r\n\r\nexport const IDLE_FRAME = 'walk_position_02';\r\n\r\n// Directions\r\nexport const RIGHT_DIRECTION = 'right';\r\nexport const LEFT_DIRECTION = 'left';\r\nexport const UP_DIRECTION = 'up';\r\nexport const DOWN_DIRECTION = 'down';\r\n\r\nexport const IGNORED_TILESETS = ['objects'];\r\n\r\n// Keys\r\nexport const ENTER_KEY = 'Enter';\r\nexport const SPACE_KEY = 'Space';\r\nexport const ESCAPE_KEY = 'Escape';\r\nexport const ARROW_LEFT_KEY = 'ArrowLeft';\r\nexport const ARROW_UP_KEY = 'ArrowUp';\r\nexport const ARROW_RIGHT_KEY = 'ArrowRight';\r\nexport const ARROW_DOWN_KEY = 'ArrowDown';\r\n","// Assets\r\nexport const ADD_LOADED_FONT = 'ADD_LOADED_FONT';\r\nexport const ADD_LOADED_ATLAS = 'ADD_LOADED_ATLAS';\r\nexport const ADD_LOADED_IMAGE = 'ADD_LOADED_IMAGE';\r\nexport const ADD_LOADED_MAP = 'ADD_LOADED_MAPS';\r\nexport const ADD_LOADED_JSON = 'ADD_LOADED_JSON';\r\n\r\n// Map data\r\nexport const SET_MAP_KEY = 'SET_MAP_KEY';\r\nexport const ADD_TILESET = 'SET_TILESET';\r\n\r\n// Hero data\r\nexport const SET_FACING_DIRECTION = 'SET_FACING_DIRECTION';\r\nexport const SET_INITIAL_POSITION = 'SET_INITIAL_POSITION';\r\nexport const SET_PREVIOUS_POSITION = 'SET_PREVIOUS_POSITION';\r\nexport const SET_INITIAL_FRAME = 'SET_INITIAL_FRAME';\r\n\r\n// Game data\r\nexport const SET_GAME_WIDTH = 'SET_GAME_WIDTH';\r\nexport const SET_GAME_HEIGHT = 'SET_GAME_HEIGHT';\r\nexport const SET_GAME_ZOOM = 'SET_GAME_ZOOM';\r\n\r\n// Dialog\r\nexport const SET_DIALOG_MESSAGES = 'SET_DIALOG_MESSAGES';\r\nexport const SET_DIALOG_ACTION = 'SET_DIALOG_ACTION';\r\nexport const SET_DIALOG_CHARACTER_NAME = 'SET_DIALOG_CHARACTER_NAME';\r\n\r\n// Menu\r\nexport const SET_MENU_ITEMS = 'SET_MENU_ITEMS';\r\nexport const SET_MENU_POSITION = 'SET_MENU_POSITION';\r\nexport const ADD_MENU_ITEM = 'ADD_MENU_ITEM';\r\nexport const SET_MENU_ON_SELECT = 'SET_MENU_ON_SELECT';\r\n","import { GameObjects } from 'phaser';\r\nimport {\r\n    ENTER_KEY,\r\n    SPACE_KEY,\r\n    ARROW_UP_KEY,\r\n    ARROW_DOWN_KEY,\r\n    ARROW_LEFT_KEY,\r\n    ARROW_RIGHT_KEY,\r\n} from '../constants';\r\n\r\nexport const isObject = (obj) =>\r\n    typeof obj === 'object' && obj?.constructor === Object;\r\n\r\nexport const isObjectEmpty = (obj) =>\r\n    isObject(obj) && Object.keys(obj).length === 0;\r\n\r\nexport const isObjectNotEmpty = (obj) =>\r\n    isObject(obj) && Object.keys(obj).length > 0;\r\n\r\n/**\r\n * source https://gist.github.com/GlauberF/d8278ce3aa592389e6e3d4e758e6a0c2\r\n * Simulate a key event.\r\n * @param {String} code The code of the key to simulate\r\n * @param {String} type (optional) The type of event : down, up or press. The default is down\r\n */\r\nexport const simulateKeyEvent = (code, type = 'down') => {\r\n    const keysMap = {\r\n        [ENTER_KEY]: 13,\r\n        [SPACE_KEY]: 32,\r\n        [ARROW_LEFT_KEY]: 37,\r\n        [ARROW_UP_KEY]: 38,\r\n        [ARROW_RIGHT_KEY]: 39,\r\n        [ARROW_DOWN_KEY]: 40,\r\n    };\r\n\r\n    const event = document.createEvent('HTMLEvents');\r\n    event.initEvent(`key${type}`, true, false);\r\n    event.code = code;\r\n    event.keyCode = keysMap[code];\r\n\r\n    document.dispatchEvent(event);\r\n};\r\n\r\nexport const createInteractiveGameObject = (\r\n    scene,\r\n    x,\r\n    y,\r\n    width,\r\n    height,\r\n    isDebug = false,\r\n    origin = { x: 0, y: 0 }\r\n) => {\r\n    const customCollider = new GameObjects.Rectangle(\r\n        scene,\r\n        x,\r\n        y,\r\n        width,\r\n        height\r\n    ).setOrigin(origin.x, origin.y);\r\n\r\n    if (isDebug) {\r\n        customCollider.setFillStyle(0x741B47);\r\n    }\r\n\r\n    scene.physics.add.existing(customCollider);\r\n\r\n    return customCollider;\r\n};\r\n\r\n// Functions to check if a file exists within Webpack modules\r\n// This might look dumb, but due to the way Webpack works, this is the only way to properly check\r\n// Using a full path as a variable doesn't work because: https://github.com/webpack/webpack/issues/6680#issuecomment-370800037\r\nexport const isMapFileAvailable = (file) => {\r\n    try {\r\n        require.resolveWeak(`../assets/maps/${file}`);\r\n        return true;\r\n    } catch {\r\n        console.error(`Error loading file ${file}`);\r\n        return false;\r\n    }\r\n};\r\n\r\nexport const isImageFileAvailable = (file) => {\r\n    try {\r\n        require.resolveWeak(`../assets/images/${file}`);\r\n        return true;\r\n    } catch {\r\n        console.error(`Error loading file ${file}`);\r\n        return false;\r\n    }\r\n};\r\n\r\nexport const isTilesetFileAvailable = (file) => {\r\n    try {\r\n        require.resolveWeak(`../assets/tilesets/${file}`);\r\n        return true;\r\n    } catch {\r\n        console.error(`Error loading file ${file}`);\r\n        return false;\r\n    }\r\n};\r\n\r\nexport const isGeneratedAtlasFileAvailable = (file) => {\r\n    try {\r\n        require.resolveWeak(`../assets/atlases/generated/${file}`);\r\n        return true;\r\n    } catch {\r\n        console.error(`Error loading file ${file}`);\r\n        return false;\r\n    }\r\n};\r\n\r\n","export const selectMapKey = (state) => state.mapData.mapKey;\r\n\r\nexport const selectTilesets = (state) => state.mapData.tilesets;\r\n","export const selectHeroFacingDirection = (state) => state.heroData.facingDirection;\r\n\r\nexport const selectHeroInitialPosition = (state) => state.heroData.initialPosition;\r\n\r\nexport const selectHeroPreviousPosition = (state) => state.heroData.previousPosition;\r\n\r\nexport const selectHeroInitialFrame = (state) => state.heroData.initialFrame;\r\n","import { SET_DIALOG_CHARACTER_NAME } from '../constants';\r\n\r\nconst setDialogCharacterNameAction = (payload) => (dispatch) => dispatch({\r\n    type: SET_DIALOG_CHARACTER_NAME,\r\n    payload,\r\n});\r\n\r\nexport default setDialogCharacterNameAction;\r\n","import { SET_DIALOG_MESSAGES } from '../constants';\r\n\r\nconst setDialogMessagesAction = (payload) => (dispatch) => dispatch({\r\n    type: SET_DIALOG_MESSAGES,\r\n    payload,\r\n});\r\n\r\nexport default setDialogMessagesAction;\r\n","import { SET_DIALOG_ACTION } from '../constants';\r\n\r\nconst setDialogActionAction = (payload) => (dispatch) => dispatch({\r\n    type: SET_DIALOG_ACTION,\r\n    payload,\r\n});\r\n\r\nexport default setDialogActionAction;\r\n","import { Input } from 'phaser';\r\n\r\n// Constants\r\nimport {\r\n    KEY,\r\n    COIN,\r\n    HEART,\r\n    ENEMY,\r\n    CRYSTAL,\r\n    IDLE_FRAME,\r\n    TILE_WIDTH,\r\n    TILE_HEIGHT,\r\n    UP_DIRECTION,\r\n    LEFT_DIRECTION,\r\n    DOWN_DIRECTION,\r\n    RIGHT_DIRECTION,\r\n    KEY_SPRITE_NAME,\r\n    HERO_SPRITE_NAME,\r\n    COIN_SPRITE_NAME,\r\n    ENEMY_SPRITE_NAME,\r\n    HEART_SPRITE_NAME,\r\n    CRYSTAL_SPRITE_NAME,\r\n} from '../constants';\r\n\r\n// Utils\r\nimport { createInteractiveGameObject } from './utils';\r\n\r\n// Store\r\nimport store from '../redux/store';\r\n\r\n// Selectors\r\nimport { selectMapKey, selectTilesets } from '../redux/selectors/selectMapData';\r\nimport {\r\n    selectHeroInitialFrame,\r\n    selectHeroFacingDirection,\r\n    selectHeroInitialPosition,\r\n} from '../redux/selectors/selectHeroData';\r\nimport { selectDialogMessages } from '../redux/selectors/selectDialog';\r\n\r\n// Actions\r\nimport setDialogCharacterNameAction from '../redux/actions/setDialogCharacterNameAction';\r\nimport setDialogMessagesAction from '../redux/actions/setDialogMessagesAction';\r\nimport setDialogActionAction from '../redux/actions/setDialogActionAction';\r\n\r\nexport const getSelectorData = (selector) => {\r\n    const { getState } = store;\r\n\r\n    return selector(getState());\r\n};\r\n\r\nexport const getDispatch = () => store.dispatch;\r\n\r\n/**\r\n * @param scene\r\n * @param assetKey\r\n * @param animationName\r\n * @param frameQuantity\r\n */\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const createWalkingAnimation = (\r\n    scene,\r\n    assetKey,\r\n    animationName,\r\n    frameQuantity\r\n) => {\r\n    scene.anims.create({\r\n        key: `${assetKey}_${animationName}`,\r\n        frames: Array.from({ length: frameQuantity }).map((n, index) => ({\r\n            key: assetKey,\r\n            frame: `${animationName}_${(index + 1).toString().padStart(2, '0')}`,\r\n        })),\r\n        frameRate: 4,\r\n        repeat: -1,\r\n        yoyo: true,\r\n    });\r\n};\r\n\r\nexport const handleCreateCharactersMovements = (scene) => {\r\n    // Movement started\r\n    scene.gridEngine.movementStarted().subscribe(({ charId, direction }) => {\r\n        const char = scene.sprites.getChildren().find((sprite) => sprite.name === charId);\r\n\r\n        if (char) {\r\n            char.anims.play(`${char.texture.key}_walk_${direction}`);\r\n        }\r\n    });\r\n\r\n    // Movement ended\r\n    scene.gridEngine.movementStopped().subscribe(({ charId, direction }) => {\r\n        const char = scene.sprites.getChildren().find((sprite) => sprite.name === charId);\r\n\r\n        if (char) {\r\n            char.anims.stop();\r\n            char.setFrame(IDLE_FRAME.replace('position', direction));\r\n        }\r\n    });\r\n\r\n    // Direction changed\r\n    scene.gridEngine.directionChanged().subscribe(({ charId, direction }) => {\r\n        const char = scene.sprites.getChildren().find((sprite) => sprite.name === charId);\r\n\r\n        if (char) {\r\n            char.setFrame(IDLE_FRAME.replace('position', direction));\r\n        }\r\n    });\r\n};\r\n\r\nexport const handleCreateControls = (scene) => {\r\n    // Controls\r\n    // eslint-disable-next-line no-param-reassign\r\n    scene.actionKey = scene.input.keyboard.addKey(Input.Keyboard.KeyCodes.SPACE);\r\n    // eslint-disable-next-line no-param-reassign\r\n    scene.cursors = scene.input.keyboard.createCursorKeys();\r\n    // eslint-disable-next-line no-param-reassign\r\n    scene.wasd = scene.input.keyboard.addKeys({\r\n        [UP_DIRECTION]: Input.Keyboard.KeyCodes.W,\r\n        [DOWN_DIRECTION]: Input.Keyboard.KeyCodes.S,\r\n        [LEFT_DIRECTION]: Input.Keyboard.KeyCodes.A,\r\n        [RIGHT_DIRECTION]: Input.Keyboard.KeyCodes.D,\r\n    });\r\n};\r\n\r\nexport const handleCreateGroups = (scene) => {\r\n    // Game groups\r\n    // eslint-disable-next-line no-param-reassign\r\n    scene.sprites = scene.add.group();\r\n    // eslint-disable-next-line no-param-reassign\r\n    scene.enemies = scene.add.group();\r\n    // eslint-disable-next-line no-param-reassign\r\n    scene.items = scene.add.group();\r\n};\r\n\r\nexport const handleCreateMap = (scene) => {\r\n    const mapKey = getSelectorData(selectMapKey);\r\n    const tilesets = getSelectorData(selectTilesets);\r\n\r\n    // Create the map\r\n    const map = scene.make.tilemap({ key: mapKey });\r\n    tilesets.forEach((tilesetName) => {\r\n        map.addTilesetImage(tilesetName, tilesetName);\r\n    });\r\n\r\n    map.layers.forEach((layerData, index) => {\r\n        const layer = map.createLayer(layerData.name, tilesets, 0, 0);\r\n    });\r\n\r\n    // eslint-disable-next-line no-param-reassign\r\n    scene.map = map;\r\n};\r\n\r\nexport const handleCreateHero = (scene) => {\r\n    const initialFrame = getSelectorData(selectHeroInitialFrame);\r\n\r\n    // Create hero sprite\r\n    const heroSprite = scene.physics.add\r\n        .sprite(0, 0, HERO_SPRITE_NAME, initialFrame)\r\n        .setName(HERO_SPRITE_NAME)\r\n        .setDepth(1);\r\n\r\n    const actionColliderSizeOffset = 2;\r\n    // eslint-disable-next-line no-param-reassign\r\n    heroSprite.actionCollider = createInteractiveGameObject(\r\n        scene,\r\n        0,\r\n        0,\r\n        TILE_WIDTH - actionColliderSizeOffset,\r\n        TILE_HEIGHT - actionColliderSizeOffset,\r\n        true\r\n    );\r\n\r\n    // eslint-disable-next-line no-param-reassign\r\n    heroSprite.update = (time, delta) => {\r\n        const facingDirection = scene.gridEngine.getFacingDirection(HERO_SPRITE_NAME);\r\n\r\n        switch (facingDirection) {\r\n            case DOWN_DIRECTION: {\r\n                heroSprite.actionCollider.setX(\r\n                    heroSprite.x + (actionColliderSizeOffset / 2)\r\n                );\r\n                heroSprite.actionCollider.setY(\r\n                    heroSprite.y + TILE_HEIGHT\r\n                );\r\n\r\n                break;\r\n            }\r\n\r\n            case UP_DIRECTION: {\r\n                heroSprite.actionCollider.setX(\r\n                    heroSprite.x + (actionColliderSizeOffset / 2)\r\n                );\r\n                heroSprite.actionCollider.setY(\r\n                    heroSprite.y - TILE_HEIGHT + (actionColliderSizeOffset / 2)\r\n                );\r\n\r\n                break;\r\n            }\r\n\r\n            case LEFT_DIRECTION: {\r\n                heroSprite.actionCollider.setX(\r\n                    heroSprite.x - TILE_HEIGHT + (actionColliderSizeOffset / 2)\r\n                );\r\n                heroSprite.actionCollider.setY(\r\n                    heroSprite.y + (actionColliderSizeOffset / 2)\r\n                );\r\n\r\n                break;\r\n            }\r\n\r\n            case RIGHT_DIRECTION: {\r\n                heroSprite.actionCollider.setX(\r\n                    heroSprite.x + TILE_WIDTH + (actionColliderSizeOffset / 2)\r\n                );\r\n                heroSprite.actionCollider.setY(\r\n                    heroSprite.y + (actionColliderSizeOffset / 2)\r\n                );\r\n\r\n                break;\r\n            }\r\n\r\n            default: {\r\n                break;\r\n            }\r\n        }\r\n    };\r\n\r\n    // eslint-disable-next-line no-param-reassign\r\n    scene.heroSprite = heroSprite;\r\n    scene.sprites.add(heroSprite);\r\n};\r\n\r\nexport const handleObjectsLayer = (scene) => {\r\n    // Load game objects like items, enemies, etc\r\n    const dispatch = getDispatch();\r\n    scene.map.objects.forEach((objectLayerData, layerIndex) => {\r\n        objectLayerData?.objects?.forEach((object, objectIndex) => {\r\n            const { gid, properties, x, y } = object;\r\n\r\n            switch (gid) {\r\n                case ENEMY: {\r\n                    const name = `${ENEMY_SPRITE_NAME}_${layerIndex}${objectIndex}`;\r\n                    const enemy = scene.physics.add\r\n                        .sprite(x, y, ENEMY_SPRITE_NAME, IDLE_FRAME.replace('position', DOWN_DIRECTION))\r\n                        .setName(name)\r\n                        .setDepth(1);\r\n\r\n                    scene.sprites.add(enemy);\r\n                    scene.enemies.add(enemy);\r\n                    scene.gridEngine.addCharacter({\r\n                        id: name,\r\n                        offsetY: 0, // default\r\n                        sprite: enemy,\r\n                        startPosition: {\r\n                            x: Math.floor(x / TILE_WIDTH),\r\n                            y: Math.floor(y / TILE_HEIGHT),\r\n                        },\r\n                    });\r\n\r\n                    const enemyActionHeroCollider = scene.physics.add.collider(\r\n                        enemy,\r\n                        scene.heroSprite.actionCollider,\r\n                        (e, a) => {\r\n                            if (Input.Keyboard.JustDown(scene.actionKey)) {\r\n                                const messages = getSelectorData(selectDialogMessages);\r\n\r\n                                if (messages.length === 0) {\r\n                                    enemyActionHeroCollider.active = false;\r\n                                    dispatch(setDialogCharacterNameAction('monster'));\r\n                                    dispatch(setDialogMessagesAction([\r\n                                        'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',\r\n                                        'Praesent id neque sodales, feugiat tortor non, fringilla ex.',\r\n                                        'Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur',\r\n                                    ]));\r\n                                    dispatch(setDialogActionAction(() => {\r\n                                        // Do this to not trigger the message again\r\n                                        // Because whenever you call JustDown once, the second time\r\n                                        // you call it, it will be false\r\n                                        Input.Keyboard.JustDown(scene.actionKey);\r\n                                        dispatch(setDialogCharacterNameAction(''));\r\n                                        dispatch(setDialogMessagesAction([]));\r\n                                        dispatch(setDialogActionAction(null));\r\n                                    }));\r\n\r\n                                    scene.time.delayedCall(0, () => {\r\n                                        enemyActionHeroCollider.active = true;\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    );\r\n\r\n                    break;\r\n                }\r\n\r\n                case COIN: {\r\n                    const name = `${COIN_SPRITE_NAME}_${layerIndex}${objectIndex}`;\r\n                    const coin = scene.physics.add\r\n                        .sprite(x, y, COIN_SPRITE_NAME, 'coin_idle_01')\r\n                        .setOrigin(0, 0)\r\n                        .setName(name)\r\n                        .setDepth(1);\r\n\r\n                    const animationKey = `${COIN_SPRITE_NAME}_idle`;\r\n                    if (!scene.anims.exists(animationKey)) {\r\n                        scene.anims.create({\r\n                            key: animationKey,\r\n                            frames: Array.from({ length: 2 }).map((n, index) => ({\r\n                                key: COIN_SPRITE_NAME,\r\n                                frame: `${COIN_SPRITE_NAME}_idle_${(index + 1).toString().padStart(2, '0')}`,\r\n                            })),\r\n                            frameRate: 3,\r\n                            repeat: -1,\r\n                            yoyo: false,\r\n                        });\r\n                    }\r\n\r\n                    coin.anims.play(animationKey);\r\n                    scene.items.add(coin);\r\n\r\n                    break;\r\n                }\r\n\r\n                case HEART: {\r\n                    const name = `${HEART_SPRITE_NAME}_${layerIndex}${objectIndex}`;\r\n                    const heart = scene.physics.add\r\n                        .image(x, y, HEART_SPRITE_NAME)\r\n                        .setOrigin(0, 0)\r\n                        .setName(name)\r\n                        .setDepth(1);\r\n\r\n                    scene.items.add(heart);\r\n\r\n                    break;\r\n                }\r\n\r\n                case CRYSTAL: {\r\n                    const name = `${CRYSTAL_SPRITE_NAME}_${layerIndex}${objectIndex}`;\r\n                    const crystal = scene.physics.add\r\n                        .image(x, y, CRYSTAL_SPRITE_NAME)\r\n                        .setOrigin(0, 0)\r\n                        .setName(name)\r\n                        .setDepth(1);\r\n\r\n                    scene.items.add(crystal);\r\n\r\n                    break;\r\n                }\r\n\r\n                case KEY: {\r\n                    const name = `${KEY_SPRITE_NAME}_${layerIndex}${objectIndex}`;\r\n                    const key = scene.physics.add\r\n                        .image(x, y, KEY_SPRITE_NAME)\r\n                        .setOrigin(0, 0)\r\n                        .setName(name)\r\n                        .setDepth(1);\r\n\r\n                    scene.items.add(key);\r\n\r\n                    break;\r\n                }\r\n                default: {\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n    });\r\n};\r\n\r\nexport const handleConfigureCamera = (scene) => {\r\n    const { game } = scene.sys;\r\n    const camera = scene.cameras.main;\r\n\r\n    // Configure the main camera\r\n    camera.startFollow(scene.heroSprite, true);\r\n    camera.setFollowOffset(-scene.heroSprite.width, -scene.heroSprite.height);\r\n    camera.setBounds(\r\n        0,\r\n        0,\r\n        Math.max(scene.map.widthInPixels, game.scale.gameSize.width),\r\n        Math.max(scene.map.heightInPixels, game.scale.gameSize.height)\r\n    );\r\n\r\n    if (scene.map.widthInPixels < game.scale.gameSize.width) {\r\n        camera.setPosition(\r\n            (game.scale.gameSize.width - scene.map.widthInPixels) / 2\r\n        );\r\n    }\r\n\r\n    if (scene.map.heightInPixels < game.scale.gameSize.height) {\r\n        camera.setPosition(\r\n            camera.x,\r\n            (game.scale.gameSize.height - scene.map.heightInPixels) / 2\r\n        );\r\n    }\r\n};\r\n\r\nexport const handleCreateHeroAnimations = (scene) => {\r\n    // Animations\r\n    [UP_DIRECTION, DOWN_DIRECTION, LEFT_DIRECTION, RIGHT_DIRECTION].forEach((direction) => {\r\n        createWalkingAnimation(\r\n            scene,\r\n            HERO_SPRITE_NAME,\r\n            `walk_${direction}`,\r\n            3\r\n        );\r\n    });\r\n};\r\n\r\nexport const handleConfigureGridEngine = (scene) => {\r\n    const initialPosition = getSelectorData(selectHeroInitialPosition);\r\n    const facingDirection = getSelectorData(selectHeroFacingDirection);\r\n\r\n    // Grid Engine\r\n    scene.gridEngine.create(scene.map, {\r\n        characterCollisionStrategy: 'BLOCK_TWO_TILES', // default\r\n        collisionTilePropertyName: 'ge_collide', // default\r\n        numberOfDirections: 4, // default\r\n        characters: [{\r\n            id: HERO_SPRITE_NAME,\r\n            offsetY: 0, // default\r\n            sprite: scene.heroSprite,\r\n            startPosition: initialPosition,\r\n            facingDirection,\r\n        }],\r\n    });\r\n};\r\n\r\nexport const handleHeroMovement = (scene) => {\r\n    if (scene.cursors.left.isDown || scene.wasd[LEFT_DIRECTION].isDown) {\r\n        scene.gridEngine.move(HERO_SPRITE_NAME, LEFT_DIRECTION);\r\n    } else if (scene.cursors.right.isDown || scene.wasd[RIGHT_DIRECTION].isDown) {\r\n        scene.gridEngine.move(HERO_SPRITE_NAME, RIGHT_DIRECTION);\r\n    } else if (scene.cursors.up.isDown || scene.wasd[UP_DIRECTION].isDown) {\r\n        scene.gridEngine.move(HERO_SPRITE_NAME, UP_DIRECTION);\r\n    } else if (scene.cursors.down.isDown || scene.wasd[DOWN_DIRECTION].isDown) {\r\n        scene.gridEngine.move(HERO_SPRITE_NAME, DOWN_DIRECTION);\r\n    }\r\n};\r\n\r\nexport const changeScene = (scene, nextScene, assets = {}, config = {}) => {\r\n    scene.scene.start('LoadAssetsScene', {\r\n        nextScene,\r\n        assets,\r\n    });\r\n};\r\n","import { GameObjects } from 'phaser';\r\n\r\nexport const calculateGameSize = (\r\n    width,\r\n    height,\r\n    tileWidth,\r\n    tileHeight,\r\n    widthThreshold = 0.5,\r\n    heightThreshold = 0.5\r\n) => {\r\n    const widthScale = Math.floor(window.innerWidth / width);\r\n    const heightScale = Math.floor(window.innerHeight / height);\r\n    const zoom = Math.min(widthScale, heightScale) || 1;\r\n\r\n    const newWidth = Math.floor(window.innerWidth / tileWidth) * tileWidth / zoom;\r\n    const newHeight = Math.floor(window.innerHeight / tileHeight) * tileHeight / zoom;\r\n\r\n    return {\r\n        zoom,\r\n        width: Math.min(newWidth, Math.floor((width * (1 + widthThreshold)) / tileWidth) * tileWidth),\r\n        height: Math.min(newHeight, Math.floor((height * (1 + heightThreshold)) / tileHeight) * tileHeight),\r\n    };\r\n};\r\n\r\nexport const createInteractiveGameObject = (\r\n    scene,\r\n    x,\r\n    y,\r\n    width,\r\n    height,\r\n    isDebug = false,\r\n    origin = { x: 0, y: 0 }\r\n) => {\r\n    const customCollider = new GameObjects.Rectangle(\r\n        scene,\r\n        x,\r\n        y,\r\n        width,\r\n        height\r\n    ).setOrigin(origin.x, origin.y);\r\n\r\n    if (isDebug) {\r\n        customCollider.setFillStyle(0x741B47);\r\n    }\r\n\r\n    scene.physics.add.existing(customCollider);\r\n\r\n    return customCollider;\r\n};\r\n\r\n// Thanks yannick @ https://phaser.discourse.group/t/loading-audio/1306/4\r\nexport const asyncLoader = (loaderPlugin) => new Promise((resolve, reject) => {\r\n    loaderPlugin.on('filecomplete', resolve).on('loaderror', reject);\r\n    loaderPlugin.start();\r\n});\r\n","export const selectGameWidth = (state) => state.game.width;\r\n\r\nexport const selectGameHeight = (state) => state.game.height;\r\n\r\nexport const selectGameZoom = (state) => state.game.zoom;\r\n","import {\r\n    ADD_LOADED_MAP,\r\n    ADD_LOADED_FONT,\r\n    ADD_LOADED_JSON,\r\n    ADD_LOADED_ATLAS,\r\n    ADD_LOADED_IMAGE,\r\n} from '../constants';\r\n\r\nconst defaultState = {\r\n    fonts: [],\r\n    atlases: [],\r\n    images: [],\r\n    maps: [],\r\n    jsons: [],\r\n};\r\n\r\nconst loadedAssetsReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case ADD_LOADED_FONT: {\r\n            return {\r\n                ...state,\r\n                fonts: [\r\n                    ...state.fonts,\r\n                    action.payload,\r\n                ],\r\n            };\r\n        }\r\n\r\n        case ADD_LOADED_ATLAS: {\r\n            return {\r\n                ...state,\r\n                atlases: [\r\n                    ...state.atlases,\r\n                    action.payload,\r\n                ],\r\n            };\r\n        }\r\n\r\n        case ADD_LOADED_IMAGE: {\r\n            return {\r\n                ...state,\r\n                images: [\r\n                    ...state.images,\r\n                    action.payload,\r\n                ],\r\n            };\r\n        }\r\n\r\n        case ADD_LOADED_MAP: {\r\n            return {\r\n                ...state,\r\n                maps: [\r\n                    ...state.maps,\r\n                    action.payload,\r\n                ],\r\n            };\r\n        }\r\n\r\n        case ADD_LOADED_JSON: {\r\n            return {\r\n                ...state,\r\n                jsons: [\r\n                    ...state.jsons,\r\n                    action.payload,\r\n                ],\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default loadedAssetsReducer;\r\n","import { MIN_GAME_HEIGHT, MIN_GAME_WIDTH } from '../../constants';\r\nimport {\r\n    SET_GAME_ZOOM,\r\n    SET_GAME_WIDTH,\r\n    SET_GAME_HEIGHT,\r\n} from '../constants';\r\n\r\nconst defaultState = {\r\n    width: MIN_GAME_WIDTH,\r\n    height: MIN_GAME_HEIGHT,\r\n    zoom: 1,\r\n};\r\n\r\nconst gameDataReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case SET_GAME_WIDTH: {\r\n            return {\r\n                ...state,\r\n                width: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_GAME_HEIGHT: {\r\n            return {\r\n                ...state,\r\n                height: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_GAME_ZOOM: {\r\n            return {\r\n                ...state,\r\n                zoom: action.payload,\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default gameDataReducer;\r\n","import {\r\n    SET_INITIAL_FRAME,\r\n    SET_INITIAL_POSITION,\r\n    SET_FACING_DIRECTION,\r\n    SET_PREVIOUS_POSITION,\r\n} from '../constants';\r\n\r\nconst defaultState = {\r\n    facingDirection: '',\r\n    initialPosition: {},\r\n    previousPosition: {},\r\n    initialFrame: '',\r\n};\r\n\r\nconst heroDataReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case SET_FACING_DIRECTION: {\r\n            return {\r\n                ...state,\r\n                facingDirection: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_INITIAL_POSITION: {\r\n            return {\r\n                ...state,\r\n                initialPosition: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_PREVIOUS_POSITION: {\r\n            return {\r\n                ...state,\r\n                previousPosition: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_INITIAL_FRAME: {\r\n            return {\r\n                ...state,\r\n                initialFrame: action.payload,\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default heroDataReducer;\r\n","import {\r\n    ADD_TILESET,\r\n    SET_MAP_KEY,\r\n} from '../constants';\r\n\r\nconst defaultState = {\r\n    mapKey: '',\r\n    tilesets: [],\r\n};\r\n\r\nconst mapDataReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case SET_MAP_KEY: {\r\n            return {\r\n                ...state,\r\n                mapKey: action.payload,\r\n            };\r\n        }\r\n\r\n        case ADD_TILESET: {\r\n            return {\r\n                ...state,\r\n                tilesets: [\r\n                    ...state.tilesets,\r\n                    action.payload,\r\n                ],\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default mapDataReducer;\r\n","import {\r\n    SET_DIALOG_ACTION,\r\n    SET_DIALOG_MESSAGES,\r\n    SET_DIALOG_CHARACTER_NAME,\r\n} from '../constants';\r\n\r\nconst defaultState = {\r\n    messages: [],\r\n    action: null,\r\n    characterName: '',\r\n};\r\n\r\nconst dialogReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case SET_DIALOG_MESSAGES: {\r\n            return {\r\n                ...state,\r\n                messages: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_DIALOG_ACTION: {\r\n            return {\r\n                ...state,\r\n                action: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_DIALOG_CHARACTER_NAME: {\r\n            return {\r\n                ...state,\r\n                characterName: action.payload,\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default dialogReducer;\r\n","import {\r\n    ADD_MENU_ITEM,\r\n    SET_MENU_ITEMS,\r\n    SET_MENU_POSITION,\r\n    SET_MENU_ON_SELECT,\r\n} from '../constants';\r\n\r\nconst defaultState = {\r\n    items: [],\r\n    position: 'center',\r\n    onSelect: null,\r\n};\r\n\r\nconst menuReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case SET_MENU_ITEMS: {\r\n            return {\r\n                ...state,\r\n                items: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_MENU_ON_SELECT: {\r\n            return {\r\n                ...state,\r\n                onSelect: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_MENU_POSITION: {\r\n            return {\r\n                ...state,\r\n                position: action.payload,\r\n            };\r\n        }\r\n\r\n        case ADD_MENU_ITEM: {\r\n            return {\r\n                ...state,\r\n                items: [\r\n                    ...state.items,\r\n                    action.payload,\r\n                ],\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default menuReducer;\r\n","import { combineReducers } from 'redux';\r\n\r\n// Reducers\r\nimport loadedAssetsReducer from './loadedAssetsReducer';\r\nimport gameDataReducer from './gameDataReducer';\r\nimport heroDataReducer from './heroDataReducer';\r\nimport mapDataReducer from './mapDataReducer';\r\nimport dialogReducer from './dialogReducer';\r\nimport menuReducer from './menuReducer';\r\n\r\nexport default combineReducers({\r\n    loadedAssets: loadedAssetsReducer,\r\n    heroData: heroDataReducer,\r\n    mapData: mapDataReducer,\r\n    game: gameDataReducer,\r\n    dialog: dialogReducer,\r\n    menu: menuReducer,\r\n});\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nfunction configureStore(initialState = {}) {\r\n    return createStore(\r\n        rootReducer,\r\n        initialState,\r\n        applyMiddleware(thunk)\r\n    );\r\n}\r\n\r\nexport default configureStore();\r\n","export const selectDialogMessages = (state) => state.dialog.messages;\r\n\r\nexport const selectDialogAction = (state) => state.dialog.action;\r\n\r\nexport const selectDialogCharacterName = (state) => state.dialog.characterName;\r\n","export default __webpack_public_path__ + \"e626617811caba9b333c770981ec9384.png\";","export const selectMenuItems = (state) => state.menu.items;\r\n\r\nexport const selectMenuPosition = (state) => state.menu.position;\r\n\r\nexport const selectMenuOnSelect = (state) => state.menu.onSelect;\r\n","var map = {\n\t\"./coin.json\": [\n\t\t59,\n\t\t30\n\t],\n\t\"./enemy.json\": [\n\t\t60,\n\t\t31\n\t],\n\t\"./hero.json\": [\n\t\t61,\n\t\t32\n\t],\n\t\"./npc_01.json\": [\n\t\t62,\n\t\t33\n\t],\n\t\"./npc_02.json\": [\n\t\t63,\n\t\t34\n\t],\n\t\"./npc_03.json\": [\n\t\t64,\n\t\t35\n\t],\n\t\"./npc_04.json\": [\n\t\t65,\n\t\t36\n\t],\n\t\"./npc_05.json\": [\n\t\t66,\n\t\t37\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 50;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./a_button.png\": [\n\t\t52\n\t],\n\t\"./b_button.png\": [\n\t\t53\n\t],\n\t\"./crystal.png\": [\n\t\t143,\n\t\t23\n\t],\n\t\"./d_pad_button.png\": [\n\t\t34\n\t],\n\t\"./heart_empty.png\": [\n\t\t144,\n\t\t24\n\t],\n\t\"./heart_full.png\": [\n\t\t142,\n\t\t19\n\t],\n\t\"./heart_half.png\": [\n\t\t145,\n\t\t25\n\t],\n\t\"./key.png\": [\n\t\t146,\n\t\t26\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 51;\nmodule.exports = webpackAsyncContext;","export default __webpack_public_path__ + \"28fbe1ed0ea4f2d7067dcb3799703b9b.png\";","export default __webpack_public_path__ + \"1d70a5d8a5b03ee62ec095c92a9100f3.png\";","var map = {\n\t\"./coin.png\": [\n\t\t94,\n\t\t4\n\t],\n\t\"./enemy.png\": [\n\t\t95,\n\t\t6\n\t],\n\t\"./hero.png\": [\n\t\t96,\n\t\t8\n\t],\n\t\"./npc_01.png\": [\n\t\t97,\n\t\t10\n\t],\n\t\"./npc_02.png\": [\n\t\t98,\n\t\t12\n\t],\n\t\"./npc_03.png\": [\n\t\t99,\n\t\t14\n\t],\n\t\"./npc_04.png\": [\n\t\t100,\n\t\t16\n\t],\n\t\"./npc_05.png\": [\n\t\t101,\n\t\t18\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 68;\nmodule.exports = webpackAsyncContext;","import Phaser from 'phaser';\r\nimport GridEngine from 'grid-engine';\r\nimport { useCallback, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport isMobile from 'is-mobile';\r\n\r\n// Utils\r\nimport { calculateGameSize } from './utils/phaser';\r\n\r\n// Constants\r\nimport {\r\n    TILE_WIDTH,\r\n    TILE_HEIGHT,\r\n    MIN_GAME_WIDTH,\r\n    MIN_GAME_HEIGHT,\r\n    RESIZE_THRESHOLD,\r\n} from './constants';\r\n\r\n// Game Scenes\r\nimport GameScene from './game/scenes/GameScene';\r\nimport BootScene from './game/scenes/BootScene';\r\nimport LoadAssetsScene from './game/scenes/LoadAssetsScene';\r\nimport MainMenuScene from './game/scenes/MainMenuScene';\r\n\r\n// Actions\r\nimport setGameHeightAction from './redux/actions/setGameHeightAction';\r\nimport setGameWidthAction from './redux/actions/setGameWidthAction';\r\nimport setGameZoomAction from './redux/actions/setGameZoomAction';\r\n\r\n// Components\r\nimport DialogBox from './components/DialogBox';\r\nimport VirtualGamepad from './components/VirtualGamepad';\r\nimport GameMenu from './components/GameMenu';\r\n\r\n// Selectors\r\nimport { selectDialogMessages } from './redux/selectors/selectDialog';\r\nimport { selectMenuItems } from './redux/selectors/selectMenu';\r\n\r\nconst Game = () => {\r\n    const dispatch = useDispatch();\r\n    const [game, setGame] = useState(null);\r\n    const dialogMessages = useSelector(selectDialogMessages);\r\n    const menuItems = useSelector(selectMenuItems);\r\n\r\n    const updateGameReduxState = useCallback((\r\n        gameWidth,\r\n        gameHeight,\r\n        gameZoom\r\n    ) => {\r\n        dispatch(setGameHeightAction(gameHeight));\r\n        dispatch(setGameWidthAction(gameWidth));\r\n        dispatch(setGameZoomAction(gameZoom));\r\n    }, [dispatch]);\r\n\r\n    // Create the game inside a useEffect\r\n    // to create it only once\r\n    useEffect(() => {\r\n        // do this otherwise development hot-reload\r\n        // will create a bunch of Phaser instances\r\n        if (game) {\r\n            return;\r\n        }\r\n\r\n        const { width, height, zoom } = calculateGameSize(\r\n            MIN_GAME_WIDTH,\r\n            MIN_GAME_HEIGHT,\r\n            TILE_WIDTH,\r\n            TILE_HEIGHT\r\n        );\r\n\r\n        const phaserGame = new Phaser.Game({\r\n            type: Phaser.AUTO,\r\n            title: 'some-game-title',\r\n            parent: 'game-content',\r\n            orientation: Phaser.Scale.LANDSCAPE,\r\n            localStorageName: 'some-game-title',\r\n            width,\r\n            height,\r\n            zoom,\r\n            autoRound: true,\r\n            pixelArt: true,\r\n            scale: {\r\n                autoCenter: Phaser.Scale.CENTER_BOTH,\r\n                mode: Phaser.Scale.NONE,\r\n            },\r\n            scene: [\r\n                BootScene,\r\n                LoadAssetsScene,\r\n                GameScene,\r\n                MainMenuScene,\r\n            ],\r\n            physics: {\r\n                default: 'arcade',\r\n                arcade: {\r\n                    debug: process?.env?.NODE_ENV !== 'production',\r\n                },\r\n            },\r\n            plugins: {\r\n                scene: [\r\n                    {\r\n                        key: 'gridEngine',\r\n                        plugin: GridEngine,\r\n                        mapping: 'gridEngine',\r\n                    },\r\n                ],\r\n            },\r\n            backgroundColor: '#000000',\r\n        });\r\n\r\n        updateGameReduxState(width, height, zoom);\r\n\r\n        // Create listener to resize the game\r\n        // when the window is resized\r\n        let timeOutFunctionId;\r\n        const workAfterResizeIsDone = () => {\r\n            const gameSize = calculateGameSize(\r\n                MIN_GAME_WIDTH,\r\n                MIN_GAME_HEIGHT,\r\n                TILE_WIDTH,\r\n                TILE_HEIGHT\r\n            );\r\n\r\n            updateGameReduxState(gameSize.width, gameSize.height, gameSize.zoom);\r\n            phaserGame.scale.resize(gameSize.width, gameSize.height);\r\n            phaserGame.scale.setZoom(gameSize.zoom);\r\n        };\r\n\r\n        window.addEventListener('resize', () => {\r\n            clearTimeout(timeOutFunctionId);\r\n            timeOutFunctionId = setTimeout(workAfterResizeIsDone, RESIZE_THRESHOLD);\r\n        });\r\n\r\n        setGame(phaserGame);\r\n        // window.phaserGame = game;\r\n    }, [\r\n        game,\r\n        updateGameReduxState,\r\n    ]);\r\n\r\n    return (\r\n        <div>\r\n            <div\r\n                id=\"game-content\"\r\n                key=\"game-content\"\r\n            >\r\n                {/* this is where the game canvas will be rendered */}\r\n            </div>\r\n            {dialogMessages.length > 0 && (\r\n                <DialogBox />\r\n            )}\r\n            {menuItems.length > 0 && (\r\n                <GameMenu />\r\n            )}\r\n            {isMobile() && (\r\n                <VirtualGamepad />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Game;\r\n","import { Scene } from 'phaser';\r\n\r\n// Utils\r\nimport {\r\n    handleCreateMap,\r\n    handleCreateHero,\r\n    handleObjectsLayer,\r\n    handleHeroMovement,\r\n    handleCreateGroups,\r\n    handleCreateControls,\r\n    handleConfigureCamera,\r\n    handleConfigureGridEngine,\r\n    handleCreateHeroAnimations,\r\n    handleCreateCharactersMovements,\r\n} from '../../utils/sceneHelpers';\r\n\r\nexport default class GameScene extends Scene {\r\n    constructor() {\r\n        super('GameScene');\r\n    }\r\n\r\n    create() {\r\n        // All of these functions need to be called in order\r\n\r\n        // Create controls\r\n        handleCreateControls(this);\r\n\r\n        // Create game groups\r\n        handleCreateGroups(this);\r\n\r\n        // Create the map\r\n        handleCreateMap(this);\r\n\r\n        // Create hero sprite\r\n        handleCreateHero(this);\r\n\r\n        // Configure grid engine\r\n        handleConfigureGridEngine(this);\r\n\r\n        // Load game objects like items, enemies, etc\r\n        handleObjectsLayer(this);\r\n\r\n        // Configure the main camera\r\n        handleConfigureCamera(this);\r\n\r\n        // Hero animations\r\n        handleCreateHeroAnimations(this);\r\n\r\n        // Handle characters movements\r\n        handleCreateCharactersMovements(this);\r\n    }\r\n\r\n    update(time, delta) {\r\n        handleHeroMovement(this);\r\n        this.heroSprite.update(time, delta);\r\n    }\r\n}\r\n","import { Scene } from 'phaser';\r\n\r\n// Utils\r\nimport { changeScene } from '../../utils/sceneHelpers';\r\n\r\nexport default class BootScene extends Scene {\r\n    constructor() {\r\n        super('BootScene');\r\n    }\r\n\r\n    preload() {\r\n        // Preload assets for the splash and title screens\r\n    }\r\n\r\n    create() {\r\n        changeScene(this, 'MainMenuScene', {\r\n            fonts: ['\"Press Start 2P\"'],\r\n        });\r\n    }\r\n}\r\n","import { SET_GAME_HEIGHT } from '../constants';\r\n\r\nconst setGameHeightAction = (payload) => (dispatch) => dispatch({\r\n    type: SET_GAME_HEIGHT,\r\n    payload,\r\n});\r\n\r\nexport default setGameHeightAction;\r\n","import { SET_GAME_WIDTH } from '../constants';\r\n\r\nconst setGameWidthAction = (payload) => (dispatch) => dispatch({\r\n    type: SET_GAME_WIDTH,\r\n    payload,\r\n});\r\n\r\nexport default setGameWidthAction;\r\n","import { SET_GAME_ZOOM } from '../constants';\r\n\r\nconst setGameZoomAction = (payload) => (dispatch) => dispatch({\r\n    type: SET_GAME_ZOOM,\r\n    payload,\r\n});\r\n\r\nexport default setGameZoomAction;\r\n","/* eslint-disable import/no-unresolved, import/no-webpack-loader-syntax */\r\nimport { useCallback, useEffect, useRef } from 'react';\r\nimport { Geom } from 'phaser';\r\nimport { makeStyles } from '@mui/styles';\r\nimport classNames from 'classnames';\r\nimport { useSelector } from 'react-redux';\r\n\r\n// Images\r\nimport dPadButton from '!!file-loader!../assets/images/d_pad_button.png';\r\nimport aButton from '!!file-loader!../assets/images/a_button.png';\r\nimport bButton from '!!file-loader!../assets/images/b_button.png';\r\n\r\n// Selectors\r\nimport { selectGameHeight, selectGameWidth, selectGameZoom } from '../redux/selectors/selectGameData';\r\n\r\n// Utils\r\nimport { simulateKeyEvent } from '../utils/utils';\r\n\r\n// Constants\r\nimport {\r\n    ARROW_DOWN_KEY,\r\n    ARROW_LEFT_KEY,\r\n    ARROW_RIGHT_KEY,\r\n    ARROW_UP_KEY,\r\n    ENTER_KEY,\r\n    SPACE_KEY,\r\n} from '../constants';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    buttonsWrapper: ({ zoom, height }) => ({\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        padding: `0 ${15 * zoom}px`,\r\n        // marginTop: `-${85 * zoom}px`,\r\n        marginTop: `${Math.ceil(window.innerHeight - (height * zoom) - (100 * zoom))}px`,\r\n        position: 'relative',\r\n        userSelect: 'none',\r\n        userDrag: 'none',\r\n        zIndex: 10,\r\n    }),\r\n    button: ({ zoom, width }) => ({\r\n        pointerEvents: 'none',\r\n        '-webkit-touch-callout': 'none',\r\n        userSelect: 'none',\r\n        userDrag: 'none',\r\n        '&.is-touched': {\r\n            filter: 'saturate(300%) brightness(70%)',\r\n        },\r\n    }),\r\n    aButton: ({ zoom, width }) => ({\r\n        width: `${40 * zoom}px`,\r\n        height: `${40 * zoom}px`,\r\n    }),\r\n    bButton: ({ zoom, width }) => ({\r\n        width: `${40 * zoom}px`,\r\n        height: `${40 * zoom}px`,\r\n    }),\r\n    dPadWrapper: ({ zoom, width }) => ({\r\n        width: `${76 * zoom}px`,\r\n        height: `${76 * zoom}px`,\r\n    }),\r\n    dPadLeft: ({ zoom, width }) => ({\r\n        width: `${38 * zoom}px`,\r\n        height: `${30.5 * zoom}px`,\r\n        marginBottom: `-${19 * zoom}px`,\r\n    }),\r\n    dPadRight: ({ zoom, width }) => ({\r\n        transform: 'rotate(180deg)',\r\n        width: `${38 * zoom}px`,\r\n        height: `${30.5 * zoom}px`,\r\n        marginBottom: `-${19 * zoom}px`,\r\n    }),\r\n    dPadUp: ({ zoom, width }) => ({\r\n        transform: 'rotate(90deg)',\r\n        width: `${38 * zoom}px`,\r\n        height: `${30.5 * zoom}px`,\r\n        marginLeft: `-${57 * zoom}px`,\r\n    }),\r\n    dPadDown: ({ zoom, width }) => ({\r\n        transform: 'rotate(270deg)',\r\n        width: `${38 * zoom}px`,\r\n        height: `${30.5 * zoom}px`,\r\n        marginLeft: `-${38 * zoom}px`,\r\n        marginBottom: `-${38 * zoom}px`,\r\n    }),\r\n}));\r\n\r\nconst VirtualGamepad = () => {\r\n    // TODO redo this with that answer from stackoverflow\r\n    const gameWidth = useSelector(selectGameWidth);\r\n    const gameHeight = useSelector(selectGameHeight);\r\n    const gameZoom = useSelector(selectGameZoom);\r\n\r\n    const classes = useStyles({\r\n        width: gameWidth,\r\n        height: gameHeight,\r\n        zoom: gameZoom,\r\n    });\r\n\r\n    const dPadLeftRef = useRef(null);\r\n    const dPadRightRef = useRef(null);\r\n    const dPadUpRef = useRef(null);\r\n    const dPadDownRef = useRef(null);\r\n    const aButtonRef = useRef(null);\r\n    const bButtonRef = useRef(null);\r\n    const eventRef = useRef({});\r\n\r\n    const wasAButtonClicked = useCallback((x, y) => {\r\n        const { width, x: elX, y: elY } = aButtonRef.current.getBoundingClientRect();\r\n        const radius = width / 2;\r\n        const circle = new Geom.Circle(\r\n            // this is needed because Circles have origin set to 0.5\r\n            elX + radius,\r\n            elY + radius,\r\n            radius\r\n        );\r\n\r\n        return circle.contains(x, y);\r\n    }, [aButtonRef]);\r\n\r\n    const wasBButtonClicked = useCallback((x, y) => {\r\n        const { width, x: elX, y: elY } = bButtonRef.current.getBoundingClientRect();\r\n        const radius = width / 2;\r\n        const circle = new Geom.Circle(\r\n            // this is needed because Circles have origin set to 0.5\r\n            elX + radius,\r\n            elY + radius,\r\n            radius\r\n        );\r\n\r\n        return circle.contains(x, y);\r\n    }, [bButtonRef]);\r\n\r\n    const wasLeftButtonClicked = useCallback((x, y) => {\r\n        const { left, right, top, bottom, height } = dPadLeftRef.current.getBoundingClientRect();\r\n        const polygon = new Geom.Polygon([\r\n            { x: left, y: top },\r\n            { x: right - 31, y: top },\r\n            { x: right, y: top + (height / 2) },\r\n            { x: right - 31, y: bottom },\r\n            { x: left, y: bottom },\r\n        ]);\r\n\r\n        return polygon.contains(x, y);\r\n    }, [dPadLeftRef]);\r\n\r\n    const wasUpButtonClicked = useCallback((x, y) => {\r\n        const { left, right, top, bottom, width } = dPadUpRef.current.getBoundingClientRect();\r\n        const polygon = new Geom.Polygon([\r\n            { x: left, y: top },\r\n            { x: right, y: top },\r\n            { x: right, y: bottom - 31 },\r\n            { x: left + (width / 2), y: bottom },\r\n            { x: left, y: bottom - 31 },\r\n        ]);\r\n\r\n        return polygon.contains(x, y);\r\n    }, [dPadUpRef]);\r\n\r\n    const wasRightButtonClicked = useCallback((x, y) => {\r\n        const { left, right, top, bottom, height } = dPadRightRef.current.getBoundingClientRect();\r\n        const polygon = new Geom.Polygon([\r\n            { x: left, y: top + (height / 2) },\r\n            { x: left + 31, y: top },\r\n            { x: right, y: top },\r\n            { x: right, y: bottom },\r\n            { x: left + 31, y: bottom },\r\n        ]);\r\n\r\n        return polygon.contains(x, y);\r\n    }, [dPadRightRef]);\r\n\r\n    const wasDownButtonClicked = useCallback((x, y) => {\r\n        const { left, right, top, bottom, width } = dPadDownRef.current.getBoundingClientRect();\r\n        const polygon = new Geom.Polygon([\r\n            { x: left + (width / 2), y: top },\r\n            { x: right, y: top + 31 },\r\n            { x: right, y: bottom },\r\n            { x: left, y: bottom },\r\n            { x: left, y: top + 31 },\r\n        ]);\r\n\r\n        return polygon.contains(x, y);\r\n    }, [dPadDownRef]);\r\n\r\n    const getPressedButton = useCallback((x, y) => {\r\n        if (wasLeftButtonClicked(x, y)) {\r\n            return [ARROW_LEFT_KEY, dPadLeftRef];\r\n        }\r\n\r\n        if (wasRightButtonClicked(x, y)) {\r\n            return [ARROW_RIGHT_KEY, dPadRightRef];\r\n        }\r\n\r\n        if (wasUpButtonClicked(x, y)) {\r\n            return [ARROW_UP_KEY, dPadUpRef];\r\n        }\r\n\r\n        if (wasDownButtonClicked(x, y)) {\r\n            return [ARROW_DOWN_KEY, dPadDownRef];\r\n        }\r\n\r\n        if (wasAButtonClicked(x, y)) {\r\n            return [SPACE_KEY, aButtonRef];\r\n        }\r\n\r\n        if (wasBButtonClicked(x, y)) {\r\n            return [ENTER_KEY, bButtonRef];\r\n        }\r\n\r\n        return [];\r\n    }, [\r\n        wasAButtonClicked,\r\n        wasBButtonClicked,\r\n        wasUpButtonClicked,\r\n        wasDownButtonClicked,\r\n        wasLeftButtonClicked,\r\n        wasRightButtonClicked,\r\n    ]);\r\n\r\n    const handleButtonPressed = useCallback((event, type) => {\r\n        const { x, y } = event;\r\n\r\n        const [pressedButton, element] = getPressedButton(x, y);\r\n        if (pressedButton && element) {\r\n            simulateKeyEvent(pressedButton, type);\r\n            if (type === 'down') {\r\n                element.current.classList.add('is-touched');\r\n            } else {\r\n                element.current.classList.remove('is-touched');\r\n            }\r\n        }\r\n    }, [getPressedButton]);\r\n\r\n    useEffect(() => {\r\n        const handlePointerDown = (event) => {\r\n            eventRef.current = event;\r\n            handleButtonPressed(event, 'down');\r\n        };\r\n        document.addEventListener('pointerdown', handlePointerDown);\r\n\r\n        const handlePointerUp = (event) => {\r\n            handleButtonPressed(eventRef.current, 'up');\r\n            eventRef.current = {};\r\n        };\r\n        document.addEventListener('pointerup', handlePointerUp);\r\n\r\n        return () => {\r\n            window.removeEventListener('pointerdown', handlePointerDown);\r\n            window.removeEventListener('pointerup', handlePointerUp);\r\n        };\r\n    }, []);\r\n\r\n    const handleContextMenuCallback = useCallback((event) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        return false;\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.buttonsWrapper}>\r\n            <div className={classes.dPadWrapper}>\r\n                <img\r\n                    ref={dPadLeftRef}\r\n                    className={classNames(classes.button, classes.dPadLeft)}\r\n                    src={dPadButton}\r\n                    alt=\"test\"\r\n                    onContextMenu={handleContextMenuCallback}\r\n                />\r\n                <img\r\n                    ref={dPadRightRef}\r\n                    className={classNames(classes.button, classes.dPadRight)}\r\n                    src={dPadButton}\r\n                    alt=\"test\"\r\n                    onContextMenu={handleContextMenuCallback}\r\n                />\r\n                <img\r\n                    ref={dPadUpRef}\r\n                    className={classNames(classes.button, classes.dPadUp)}\r\n                    src={dPadButton}\r\n                    alt=\"test\"\r\n                    onContextMenu={handleContextMenuCallback}\r\n                />\r\n                <img\r\n                    ref={dPadDownRef}\r\n                    className={classNames(classes.button, classes.dPadDown)}\r\n                    src={dPadButton}\r\n                    alt=\"test\"\r\n                    onContextMenu={handleContextMenuCallback}\r\n                />\r\n            </div>\r\n            <div>\r\n                <img\r\n                    ref={aButtonRef}\r\n                    className={classNames(classes.button, classes.aButton)}\r\n                    src={aButton}\r\n                    alt=\"test\"\r\n                    onContextMenu={handleContextMenuCallback}\r\n                />\r\n                <img\r\n                    ref={bButtonRef}\r\n                    className={classNames(classes.button, classes.bButton)}\r\n                    src={bButton}\r\n                    alt=\"test\"\r\n                    onContextMenu={handleContextMenuCallback}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VirtualGamepad;\r\n","import { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport classNames from 'classnames';\r\nimport { useSelector } from 'react-redux';\r\n\r\n// Constants\r\nimport { ARROW_DOWN_KEY, ARROW_UP_KEY, ENTER_KEY } from '../constants';\r\n\r\n// Selectors\r\nimport { selectGameHeight, selectGameWidth, selectGameZoom } from '../redux/selectors/selectGameData';\r\nimport { selectMenuItems, selectMenuOnSelect, selectMenuPosition } from '../redux/selectors/selectMenu';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    menuWrapper: ({ zoom }) => ({\r\n        fontFamily: '\"Press Start 2P\"',\r\n        fontSize: `${10 * zoom}px`,\r\n        textTransform: 'uppercase',\r\n        position: 'absolute',\r\n        transform: 'translate(-50%, 0%)',\r\n    }),\r\n    menuPositionWrapper: ({ zoom, position, width, height }) => {\r\n        const left = window.innerWidth - (width * zoom);\r\n        const menuWidth = 160 * zoom;\r\n        if (position === 'center') {\r\n            return {\r\n                minWidth: `${menuWidth}px`,\r\n                left: '50%',\r\n                top: `${(height * zoom) / 2}px`,\r\n            };\r\n        }\r\n\r\n        if (position === 'left') {\r\n            return {\r\n                minWidth: `${menuWidth}px`,\r\n                left: `${(95 * zoom) + left / 2}px`,\r\n                top: `${50 * zoom}px`,\r\n            };\r\n        }\r\n\r\n        return {};\r\n    },\r\n    menuItemsWrapper: {\r\n        textAlign: 'center',\r\n        padding: 0,\r\n    },\r\n    menuItem: ({ zoom }) => ({\r\n        cursor: 'pointer',\r\n        listStyle: 'none',\r\n        padding: `${5 * zoom}px`,\r\n        marginBottom: `${5 * zoom}px`,\r\n        backgroundColor: '#94785c',\r\n        border: `${zoom}px solid #79584f`,\r\n    }),\r\n    selectedMenuItem: ({ zoom }) => ({\r\n        fontSize: `${11 * zoom}px`,\r\n        border: `${zoom}px solid #ddd`,\r\n    }),\r\n}));\r\n\r\nconst GameMenu = () => {\r\n    // Game\r\n    const gameWidth = useSelector(selectGameWidth);\r\n    const gameHeight = useSelector(selectGameHeight);\r\n    const gameZoom = useSelector(selectGameZoom);\r\n\r\n    // Menu\r\n    const position = useSelector(selectMenuPosition);\r\n    const items = useSelector(selectMenuItems);\r\n    const onSelected = useSelector(selectMenuOnSelect);\r\n\r\n    const classes = useStyles({\r\n        width: gameWidth,\r\n        height: gameHeight,\r\n        zoom: gameZoom,\r\n        position,\r\n    });\r\n\r\n    const [selectedItemIndex, setSelectedItemIndex] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const handleKeyPressed = (e) => {\r\n            switch (e.code) {\r\n                case ENTER_KEY: {\r\n                    onSelected(items[selectedItemIndex]);\r\n                    break;\r\n                }\r\n\r\n                case ARROW_UP_KEY: {\r\n                    if (selectedItemIndex > 0) {\r\n                        setSelectedItemIndex(\r\n                            selectedItemIndex - 1\r\n                        );\r\n                    }\r\n\r\n                    break;\r\n                }\r\n\r\n                case ARROW_DOWN_KEY: {\r\n                    if (items.length - 1 > selectedItemIndex) {\r\n                        setSelectedItemIndex(\r\n                            selectedItemIndex + 1\r\n                        );\r\n                    }\r\n\r\n                    break;\r\n                }\r\n\r\n                default: {\r\n                    break;\r\n                }\r\n            }\r\n        };\r\n        window.addEventListener('keydown', handleKeyPressed);\r\n\r\n        return () => window.removeEventListener('keydown', handleKeyPressed);\r\n    }, [items, onSelected, selectedItemIndex]);\r\n\r\n    return (\r\n        <div className={classNames(classes.menuWrapper, classes.menuPositionWrapper)}>\r\n            <ul className={classes.menuItemsWrapper}>\r\n                {items.map((item, index) => (\r\n                    // eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions\r\n                    <li\r\n                        // eslint-disable-next-line react/no-array-index-key\r\n                        key={index}\r\n                        className={classNames(classes.menuItem, {\r\n                            [classes.selectedMenuItem]: selectedItemIndex === index,\r\n                        })}\r\n                        onMouseEnter={() => {\r\n                            setSelectedItemIndex(index);\r\n                        }}\r\n                        onClick={() => {\r\n                            onSelected(items[selectedItemIndex]);\r\n                        }}\r\n                    >\r\n                        {item}\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GameMenu;\r\n","import { ADD_LOADED_FONT } from '../constants';\r\n\r\nconst addLoadedFontAction = (payload) => (dispatch) => dispatch({\r\n    type: ADD_LOADED_FONT,\r\n    payload,\r\n});\r\n\r\nexport default addLoadedFontAction;\r\n","import { ADD_LOADED_ATLAS } from '../constants';\r\n\r\nconst addLoadedAtlasAction = (payload) => (dispatch) => dispatch({\r\n    type: ADD_LOADED_ATLAS,\r\n    payload,\r\n});\r\n\r\nexport default addLoadedAtlasAction;\r\n","import { ADD_LOADED_IMAGE } from '../constants';\r\n\r\nconst addLoadedImageAction = (payload) => (dispatch) => dispatch({\r\n    type: ADD_LOADED_IMAGE,\r\n    payload,\r\n});\r\n\r\nexport default addLoadedImageAction;\r\n","import { ADD_LOADED_MAP } from '../constants';\r\n\r\nconst addLoadedMapAction = (payload) => (dispatch) => dispatch({\r\n    type: ADD_LOADED_MAP,\r\n    payload,\r\n});\r\n\r\nexport default addLoadedMapAction;\r\n","import { ADD_LOADED_JSON } from '../constants';\r\n\r\nconst addLoadedJSONAction = (payload) => (dispatch) => dispatch({\r\n    type: ADD_LOADED_JSON,\r\n    payload,\r\n});\r\n\r\nexport default addLoadedJSONAction;\r\n","import { ADD_TILESET } from '../constants';\r\n\r\nconst addTilesetAction = (payload) => (dispatch) => dispatch({\r\n    type: ADD_TILESET,\r\n    payload,\r\n});\r\n\r\nexport default addTilesetAction;\r\n","export const selectLoadedFonts = (state) => state.loadedAssets.fonts;\r\n\r\nexport const selectLoadedAtlases = (state) => state.loadedAssets.atlases;\r\n\r\nexport const selectLoadedImages = (state) => state.loadedAssets.images;\r\n\r\nexport const selectLoadedMaps = (state) => state.loadedAssets.maps;\r\n\r\nexport const selectLoadedJSONs = (state) => state.loadedAssets.jsons;\r\n","import { Scene, Display } from 'phaser';\r\n\r\n// Store\r\nimport store from '../../redux/store';\r\n\r\n// Actions\r\nimport addLoadedFontAction from '../../redux/actions/addLoadedFontAction';\r\nimport addLoadedAtlasAction from '../../redux/actions/addLoadedAtlasAction';\r\nimport addLoadedImageAction from '../../redux/actions/addLoadedImageAction';\r\nimport addLoadedMapAction from '../../redux/actions/addLoadedMapAction';\r\nimport addLoadedJSONAction from '../../redux/actions/addLoadedJSONAction';\r\nimport addTilesetAction from '../../redux/actions/addTilesetAction';\r\n\r\n// Selectors\r\nimport {\r\n    selectLoadedAtlases,\r\n    selectLoadedImages,\r\n    selectLoadedFonts,\r\n    selectLoadedJSONs,\r\n    selectLoadedMaps,\r\n} from '../../redux/selectors/selectLoadedAssets';\r\n\r\n// Utils\r\nimport {\r\n    isMapFileAvailable,\r\n    isImageFileAvailable,\r\n    isTilesetFileAvailable,\r\n    isGeneratedAtlasFileAvailable,\r\n} from '../../utils/utils';\r\nimport { asyncLoader } from '../../utils/phaser';\r\n\r\n// Constants\r\nimport {\r\n    KEY,\r\n    COIN,\r\n    ENEMY,\r\n    HEART,\r\n    CRYSTAL,\r\n    KEY_SPRITE_NAME,\r\n    COIN_SPRITE_NAME,\r\n    IGNORED_TILESETS,\r\n    ENEMY_SPRITE_NAME,\r\n    HEART_SPRITE_NAME,\r\n    CRYSTAL_SPRITE_NAME,\r\n} from '../../constants';\r\n\r\nexport default class LoadAssetsScene extends Scene {\r\n    constructor() {\r\n        super('LoadAssetsScene');\r\n    }\r\n\r\n    init(initData) {\r\n        this.initData = initData;\r\n    }\r\n\r\n    async create() {\r\n        const {\r\n            fonts = [],\r\n            atlases = [],\r\n            images = [],\r\n            mapKey = '',\r\n        } = this.initData?.assets || {};\r\n\r\n        const { getState, dispatch } = store;\r\n        const state = getState();\r\n\r\n        // Pre-load all the fonts needed for the scene\r\n        // so Phaser can render them properly\r\n        let newFontsCount = 0;\r\n        fonts?.forEach((font) => {\r\n            const loadedFonts = selectLoadedFonts(state);\r\n\r\n            // If a font is already loaded, then skip this\r\n            if (loadedFonts.includes(font)) {\r\n                return;\r\n            }\r\n\r\n            // Set font as already loaded in the redux store\r\n            dispatch(addLoadedFontAction(font));\r\n            newFontsCount += 1;\r\n            const color = this.game.config.backgroundColor;\r\n            this.add.text(\r\n                0,\r\n                0,\r\n                '',\r\n                {\r\n                    fontFamily: font,\r\n                    color: Display.Color.RGBToString(color.r, color.g, color.b, color.a),\r\n                }\r\n            );\r\n        });\r\n\r\n        const loadedAtlases = selectLoadedAtlases(state);\r\n        const loadedImages = selectLoadedImages(state);\r\n        const loadedMaps = selectLoadedMaps(state);\r\n        // Load the Tiled map needed for the next scene\r\n        if (\r\n            mapKey\r\n            && !loadedMaps.includes(mapKey)\r\n            && isMapFileAvailable(`${mapKey}.json`)\r\n        ) {\r\n            const { default: mapJson } = await import(`../../assets/maps/${mapKey}.json`);\r\n            const tilesets = mapJson.tilesets.map((tileset) =>\r\n                // the string will be something like \"../tilesets/village.json\" or \"../tilesets/village.png\"\r\n                tileset.source?.split('/').pop().split('.')[0] || tileset.image?.split('/').pop().split('.')[0]);\r\n\r\n            // Load objects assets\r\n            const objectLayers = mapJson.layers.filter((layer) => layer.type === 'objectgroup');\r\n            objectLayers.forEach((layer) => {\r\n                layer.objects.forEach(async (object) => {\r\n                    const { gid, properties } = object;\r\n                    switch (gid) {\r\n                        case ENEMY: {\r\n                            // for some reason, if I don't assign this constant to a local variable\r\n                            // webpack production build do something that the code doesn't work properly\r\n                            // on the browser\r\n                            const spriteName = ENEMY_SPRITE_NAME;\r\n\r\n                            if (\r\n                                isGeneratedAtlasFileAvailable(`${spriteName}.json`)\r\n                                && isGeneratedAtlasFileAvailable(`${spriteName}.png`)\r\n                                && !loadedAtlases.includes(spriteName)\r\n                            ) {\r\n                                // eslint-disable-next-line no-await-in-loop\r\n                                const { default: jsonPath } =\r\n                                    await import(`../../assets/atlases/generated/${spriteName}.json`);\r\n                                // eslint-disable-next-line no-await-in-loop\r\n                                const { default: imagePath } =\r\n                                    await import(`!!file-loader!../../assets/atlases/generated/${spriteName}.png`);\r\n\r\n                                dispatch(addLoadedAtlasAction(spriteName));\r\n                                await asyncLoader(this.load.atlas(spriteName, imagePath, jsonPath));\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                        case COIN: {\r\n                            const spriteName = COIN_SPRITE_NAME;\r\n\r\n                            if (\r\n                                isGeneratedAtlasFileAvailable(`${spriteName}.json`)\r\n                                && isGeneratedAtlasFileAvailable(`${spriteName}.png`)\r\n                            && !loadedAtlases.includes(spriteName)\r\n                            ) {\r\n                                // eslint-disable-next-line no-await-in-loop\r\n                                const { default: jsonPath } =\r\n                                    await import(`../../assets/atlases/generated/${spriteName}.json`);\r\n                                // eslint-disable-next-line no-await-in-loop\r\n                                const { default: imagePath } =\r\n                                    await import(`!!file-loader!../../assets/atlases/generated/${spriteName}.png`);\r\n\r\n                                dispatch(addLoadedAtlasAction(spriteName));\r\n                                await asyncLoader(this.load.atlas(spriteName, imagePath, jsonPath));\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                        case HEART: {\r\n                            const spriteName = HEART_SPRITE_NAME;\r\n                            if (\r\n                                isImageFileAvailable('heart_full.png')\r\n                                && !loadedImages.includes(spriteName)\r\n                            ) {\r\n                                // eslint-disable-next-line no-await-in-loop, import/no-unresolved, import/no-webpack-loader-syntax\r\n                                const { default: imagePath } = await import('!!file-loader!../../assets/images/heart_full.png'); // `../../assets/images/${spriteName}.png`\r\n\r\n                                dispatch(addLoadedImageAction(spriteName));\r\n                                await asyncLoader(this.load.image(spriteName, imagePath));\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                        case CRYSTAL: {\r\n                            const spriteName = CRYSTAL_SPRITE_NAME;\r\n\r\n                            if (\r\n                                isImageFileAvailable(`${spriteName}.png`)\r\n                                && !loadedImages.includes(spriteName)\r\n                            ) {\r\n                                // eslint-disable-next-line no-await-in-loop\r\n                                const { default: imagePath } =\r\n                                    await import(`!!file-loader!../../assets/images/${spriteName}.png`);\r\n\r\n                                dispatch(addLoadedImageAction(spriteName));\r\n                                await asyncLoader(this.load.image(spriteName, imagePath));\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                        case KEY: {\r\n                            const spriteName = KEY_SPRITE_NAME;\r\n\r\n                            if (\r\n                                isImageFileAvailable(`${spriteName}.png`)\r\n                                && !loadedImages.includes(spriteName)\r\n                            ) {\r\n                                // eslint-disable-next-line no-await-in-loop\r\n                                const { default: imagePath } =\r\n                                    await import(`!!file-loader!../../assets/images/${spriteName}.png`);\r\n\r\n                                dispatch(addLoadedImageAction(spriteName));\r\n                                await asyncLoader(this.load.image(spriteName, imagePath));\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                        default: {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    properties?.forEach((property) => {\r\n                        // TODO\r\n                        const { name, type, value } = property;\r\n                    });\r\n                });\r\n            });\r\n\r\n            const loadedJSONs = selectLoadedJSONs(state);\r\n            // eslint-disable-next-line no-restricted-syntax\r\n            for (const tilesetName of tilesets) {\r\n                if (tilesetName && !IGNORED_TILESETS.includes(tilesetName)) {\r\n                    let tilesetJson = {};\r\n                    if (!loadedJSONs.includes(tilesetName) && isTilesetFileAvailable(`${tilesetName}.json`)) {\r\n                        // eslint-disable-next-line no-await-in-loop\r\n                        const { default: jsonResult } = await import(`../../assets/tilesets/${tilesetName}.json`);\r\n                        tilesetJson = jsonResult;\r\n\r\n                        dispatch(addLoadedJSONAction(tilesetName));\r\n                        // eslint-disable-next-line no-await-in-loop\r\n                        await asyncLoader(this.load.json(tilesetName, tilesetJson));\r\n                    } else {\r\n                        tilesetJson = this.cache.json.get(tilesetName);\r\n                    }\r\n\r\n                    if (!loadedImages.includes(tilesetName) && isTilesetFileAvailable(tilesetJson.image)) {\r\n                        // eslint-disable-next-line no-await-in-loop\r\n                        const { default: tilesetImage } = await import(`../../assets/tilesets/${tilesetJson.image}`);\r\n\r\n                        dispatch(addLoadedImageAction(tilesetName));\r\n                        // eslint-disable-next-line no-await-in-loop\r\n                        await asyncLoader(this.load.image(tilesetName, tilesetImage));\r\n                    }\r\n\r\n                    mapJson.tilesets = mapJson.tilesets\r\n                        .filter(\r\n                            (tileset) => !IGNORED_TILESETS.includes(tileset.source?.split('/')?.pop()?.split('.')?.[0])\r\n                        ).map((tileset) => {\r\n                            if (tileset.source?.includes(`/${tilesetName}.json`)) {\r\n                                const imageExtension = tilesetJson.image.split('.').pop();\r\n                                const imagePath = tileset.source.replace('.json', `.${imageExtension}`);\r\n                                // eslint-disable-next-line no-param-reassign\r\n                                delete tileset.source;\r\n\r\n                                return {\r\n                                    ...tileset,\r\n                                    ...tilesetJson,\r\n                                    image: imagePath, // not really necessary but why not\r\n                                };\r\n                            }\r\n\r\n                            return tileset;\r\n                        });\r\n\r\n                    dispatch(addTilesetAction(tilesetName));\r\n                }\r\n            }\r\n\r\n            dispatch(addLoadedMapAction(mapKey));\r\n            // Load map with pre-loaded tilesets\r\n            await asyncLoader(this.load.tilemapTiledJSON(mapKey, mapJson));\r\n        }\r\n\r\n        // Load all the atlases needed for the next scene\r\n        // eslint-disable-next-line no-restricted-syntax\r\n        for (const atlas of atlases) {\r\n            if (\r\n                !isGeneratedAtlasFileAvailable(`${atlas}.json`)\r\n                || loadedAtlases.includes(atlas)\r\n            ) {\r\n                // eslint-disable-next-line no-continue\r\n                continue;\r\n            }\r\n\r\n            // eslint-disable-next-line no-await-in-loop\r\n            const { default: jsonPath } = await import(`../../assets/atlases/generated/${atlas}.json`);\r\n            const imageName = jsonPath.textures.find((texture) => texture.image.includes(atlas))?.image;\r\n            if (!imageName || !isGeneratedAtlasFileAvailable(imageName)) {\r\n                // eslint-disable-next-line no-continue\r\n                continue;\r\n            }\r\n\r\n            // eslint-disable-next-line no-await-in-loop\r\n            const { default: imagePath } = await import(`!!file-loader!../../assets/atlases/generated/${imageName}`);\r\n\r\n            dispatch(addLoadedAtlasAction(atlas));\r\n            // eslint-disable-next-line no-await-in-loop\r\n            await asyncLoader(this.load.atlas(atlas, imagePath, jsonPath));\r\n        }\r\n\r\n        // Load all the images needed for the next scene\r\n        // eslint-disable-next-line no-restricted-syntax\r\n        for (const image of images) {\r\n            if (\r\n                !isImageFileAvailable(`${image}.png`)\r\n                || loadedImages.includes(image)\r\n            ) {\r\n                // eslint-disable-next-line no-continue\r\n                continue;\r\n            }\r\n\r\n            // eslint-disable-next-line no-await-in-loop\r\n            const { default: imagePath } = await import(`!!file-loader!../../assets/images/${image}.png`);\r\n\r\n            dispatch(addLoadedImageAction(image));\r\n            // eslint-disable-next-line no-await-in-loop\r\n            await asyncLoader(this.load.image(image, imagePath));\r\n        }\r\n\r\n        // If we have fonts, then wait for them to be loaded before calling the next scene...\r\n        if (newFontsCount > 0) {\r\n            document.fonts.ready.then((fontFace) => {\r\n                this.scene.start(\r\n                    this.initData.nextScene\r\n                );\r\n            });\r\n        } else {\r\n            // ... otherwise just call the next scene already\r\n            this.scene.start(\r\n                this.initData.nextScene\r\n            );\r\n        }\r\n    }\r\n}\r\n","import { SET_MAP_KEY } from '../constants';\r\n\r\nconst setMapKeyAction = (payload) => (dispatch) => dispatch({\r\n    type: SET_MAP_KEY,\r\n    payload,\r\n});\r\n\r\nexport default setMapKeyAction;\r\n","import { SET_FACING_DIRECTION } from '../constants';\r\n\r\nconst setHeroFacingDirectionAction = (payload) => (dispatch) => dispatch({\r\n    type: SET_FACING_DIRECTION,\r\n    payload,\r\n});\r\n\r\nexport default setHeroFacingDirectionAction;\r\n","import { SET_INITIAL_POSITION } from '../constants';\r\n\r\nconst setHeroInitialPositionAction = (payload) => (dispatch) => dispatch({\r\n    type: SET_INITIAL_POSITION,\r\n    payload,\r\n});\r\n\r\nexport default setHeroInitialPositionAction;\r\n","import { SET_PREVIOUS_POSITION } from '../constants';\r\n\r\nconst setHeroPreviousPositionAction = (payload) => (dispatch) => dispatch({\r\n    type: SET_PREVIOUS_POSITION,\r\n    payload,\r\n});\r\n\r\nexport default setHeroPreviousPositionAction;\r\n","import { SET_INITIAL_FRAME } from '../constants';\r\n\r\nconst setHeroInitialFrameAction = (payload) => (dispatch) => dispatch({\r\n    type: SET_INITIAL_FRAME,\r\n    payload,\r\n});\r\n\r\nexport default setHeroInitialFrameAction;\r\n","import { SET_MENU_ITEMS } from '../constants';\r\n\r\nconst setMenuItemsAction = (payload) => (dispatch) => dispatch({\r\n    type: SET_MENU_ITEMS,\r\n    payload,\r\n});\r\n\r\nexport default setMenuItemsAction;\r\n","import { SET_MENU_ON_SELECT } from '../constants';\r\n\r\nconst setMenuOnSelectAction = (payload) => (dispatch) => dispatch({\r\n    type: SET_MENU_ON_SELECT,\r\n    payload,\r\n});\r\n\r\nexport default setMenuOnSelectAction;\r\n","import { Scene } from 'phaser';\r\n\r\n// Constants\r\nimport { DOWN_DIRECTION, IDLE_FRAME } from '../../constants';\r\n\r\n// Store\r\nimport store from '../../redux/store';\r\n\r\n// Actions\r\nimport setMapKeyAction from '../../redux/actions/setMapKeyAction';\r\nimport setHeroFacingDirectionAction from '../../redux/actions/setHeroFacingDirectionAction';\r\nimport setHeroInitialPositionAction from '../../redux/actions/setHeroInitialPositionAction';\r\nimport setHeroPreviousPositionAction from '../../redux/actions/setHeroPreviousPositionAction';\r\nimport setHeroInitialFrameAction from '../../redux/actions/setHeroInitialFrameAction';\r\nimport setMenuItemsAction from '../../redux/actions/setMenuItemsAction';\r\nimport setMenuOnSelectAction from '../../redux/actions/setMenuOnSelectAction';\r\n\r\n// Utils\r\nimport { changeScene } from '../../utils/sceneHelpers';\r\n\r\nexport default class MainMenuScene extends Scene {\r\n    constructor() {\r\n        super('MainMenuScene');\r\n    }\r\n\r\n    preload() {\r\n        // TODO\r\n    }\r\n\r\n    create() {\r\n        const { dispatch } = store;\r\n\r\n        dispatch(setMenuItemsAction(['Start Game', 'Exit']));\r\n        dispatch(setMenuOnSelectAction((item) => {\r\n            if (item === 'Start Game') {\r\n                handleStartGameSelected();\r\n            } else {\r\n                dispatch(setMenuItemsAction([]));\r\n                dispatch(setMenuOnSelectAction(null));\r\n                window.location.reload();\r\n            }\r\n        }));\r\n\r\n        const handleStartGameSelected = () => Promise.all([\r\n            dispatch(setMenuItemsAction([])),\r\n            dispatch(setMenuOnSelectAction(null)),\r\n            dispatch(setMapKeyAction('sample_map')), // sample_indoor\r\n            dispatch(setHeroFacingDirectionAction(DOWN_DIRECTION)),\r\n            dispatch(setHeroInitialPositionAction({ x: 30, y: 42 })),\r\n            dispatch(setHeroPreviousPositionAction({ x: 30, y: 42 })),\r\n            dispatch(setHeroInitialFrameAction(\r\n                IDLE_FRAME.replace('position', DOWN_DIRECTION)\r\n            )),\r\n        ]).then(() => {\r\n            changeScene(this, 'GameScene', {\r\n                // fonts: ['\"Press Start 2P\"'],\r\n                atlases: ['hero'],\r\n                images: [],\r\n                mapKey: 'sample_map',\r\n                // mapKey: 'sample_indoor',\r\n            });\r\n        });\r\n    }\r\n}\r\n","import { useMemo } from 'react';\r\nimport { animated, useTransition } from 'react-spring';\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    dialogMessage: ({ zoom }) => ({\r\n        fontFamily: '\"Press Start 2P\"',\r\n        fontSize: `${6 * zoom}px`,\r\n        textTransform: 'uppercase',\r\n        lineHeight: `${8 * zoom}px`,\r\n    }),\r\n}));\r\n\r\nconst Message = ({\r\n    message = [],\r\n    trail = 35,\r\n    zoom = 1,\r\n    onMessageEnded = () => {},\r\n    forceShowFullMessage = false,\r\n}) => {\r\n    const classes = useStyles({ zoom });\r\n    const items = useMemo(\r\n        () => message.trim().split('').map((letter, index) => ({\r\n            item: letter,\r\n            key: index,\r\n        })),\r\n        [message]\r\n    );\r\n\r\n    const transitions = useTransition(items, {\r\n        trail,\r\n        from: { display: 'none' },\r\n        enter: { display: '' },\r\n        onRest: (status, controller, item) => {\r\n            if (item.key === items.length - 1) {\r\n                onMessageEnded();\r\n            }\r\n        },\r\n    });\r\n\r\n    return (\r\n        <div className={classes.dialogMessage}>\r\n            {forceShowFullMessage && (\r\n                <span>{message}</span>\r\n            )}\r\n\r\n            {!forceShowFullMessage && transitions((styles, { item, key }) => (\r\n                <animated.span key={key} style={styles}>\r\n                    {item}\r\n                </animated.span>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Message;\r\n","import { useCallback, useEffect, useState } from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { useSelector } from 'react-redux';\r\n\r\n// Components\r\nimport Message from './Message';\r\n\r\n// Selectors\r\nimport { selectGameHeight, selectGameWidth, selectGameZoom } from '../redux/selectors/selectGameData';\r\nimport { selectDialogAction, selectDialogCharacterName, selectDialogMessages } from '../redux/selectors/selectDialog';\r\n\r\n// Constants\r\nimport { ENTER_KEY, ESCAPE_KEY, SPACE_KEY } from '../constants';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    dialogWindow: ({ width, height, zoom }) => ({\r\n        imageRendering: 'pixelated',\r\n        fontFamily: '\"Press Start 2P\"',\r\n        textTransform: 'uppercase',\r\n        backgroundColor: '#e2b27e',\r\n        border: 'solid',\r\n        padding: `${8 * zoom}px`,\r\n        position: 'absolute',\r\n        bottom: `${Math.ceil(window.innerHeight - (height * zoom) + (height * 0.05))}px`,\r\n        width: `${Math.ceil(width * 0.8 * zoom)}px`,\r\n        left: '50%',\r\n        transform: 'translate(-50%, 0%)',\r\n        minHeight: `${Math.ceil((height / 4) * zoom)}px`,\r\n        maxHeight: `${Math.ceil((height / 3) * zoom)}px`,\r\n    }),\r\n    dialogTitle: ({ zoom }) => ({\r\n        fontSize: `${8 * zoom}px`,\r\n        marginBottom: `${6 * zoom}px`,\r\n        fontWeight: 'bold',\r\n    }),\r\n    dialogFooter: ({ zoom }) => ({\r\n        fontSize: `${8 * zoom}px`,\r\n        cursor: 'pointer',\r\n        textAlign: 'end',\r\n        position: 'absolute',\r\n        right: `${6 * zoom}px`,\r\n        bottom: `${6 * zoom}px`,\r\n    }),\r\n}));\r\n\r\nconst DialogBox = () => {\r\n    const dialogMessages = useSelector(selectDialogMessages);\r\n    const dialogAction = useSelector(selectDialogAction);\r\n    const gameWidth = useSelector(selectGameWidth);\r\n    const gameHeight = useSelector(selectGameHeight);\r\n    const gameZoom = useSelector(selectGameZoom);\r\n    const characterName = useSelector(selectDialogCharacterName);\r\n\r\n    const [currentMessage, setCurrentMessage] = useState(0);\r\n    const [messageEnded, setMessageEnded] = useState(false);\r\n    const [forceShowFullMessage, setForceShowFullMessage] = useState(false);\r\n    const classes = useStyles({\r\n        width: gameWidth,\r\n        height: gameHeight,\r\n        zoom: gameZoom,\r\n    });\r\n\r\n    const handleClick = useCallback(() => {\r\n        if (messageEnded) {\r\n            setMessageEnded(false);\r\n            setForceShowFullMessage(false);\r\n            if (currentMessage < dialogMessages.length - 1) {\r\n                setCurrentMessage(currentMessage + 1);\r\n            } else {\r\n                setCurrentMessage(0);\r\n                dialogAction?.();\r\n            }\r\n        } else {\r\n            setMessageEnded(true);\r\n            setForceShowFullMessage(true);\r\n        }\r\n    }, [dialogAction, currentMessage, messageEnded, dialogMessages.length]);\r\n\r\n    useEffect(() => {\r\n        const handleKeyPressed = (e) => {\r\n            if ([ENTER_KEY, SPACE_KEY, ESCAPE_KEY].includes(e.code)) {\r\n                handleClick();\r\n            }\r\n        };\r\n        window.addEventListener('keydown', handleKeyPressed);\r\n\r\n        return () => window.removeEventListener('keydown', handleKeyPressed);\r\n    }, [dialogMessages.length, handleClick]);\r\n\r\n    return (\r\n        <div className={classes.dialogWindow}>\r\n            <div className={classes.dialogTitle}>\r\n                {characterName}\r\n            </div>\r\n            <Message\r\n                message={dialogMessages[currentMessage]}\r\n                key={currentMessage}\r\n                zoom={gameZoom}\r\n                forceShowFullMessage={forceShowFullMessage}\r\n                onMessageEnded={() => {\r\n                    setMessageEnded(true);\r\n                }}\r\n            />\r\n            <div\r\n                onClick={handleClick}\r\n                className={classes.dialogFooter}\r\n            >\r\n                {(currentMessage === dialogMessages.length - 1 && messageEnded) ? 'Ok' : 'Next'}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DialogBox;\r\n","/* eslint-disable react/jsx-filename-extension */\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\r\nimport { Helmet } from 'react-helmet';\r\n\r\n// Store\r\nimport store from './redux/store';\r\n\r\n// Styles\r\nimport './index.css';\r\n\r\n// Components\r\nimport Game from './Game';\r\n\r\nconst theme = createTheme();\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <Helmet>\r\n            <title>My Phaser Game</title>\r\n        </Helmet>\r\n        <ThemeProvider theme={theme}>\r\n            <Game />\r\n        </ThemeProvider>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\n","var map = {\n\t\"./sample_indoor\": 57,\n\t\"./sample_indoor.json\": 57,\n\t\"./sample_map\": 58,\n\t\"./sample_map.json\": 58\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tif(!__webpack_require__.m[id]) {\n\t\tvar e = new Error(\"Module '\" + req + \"' ('\" + id + \"') is not available (weak dependency)\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nwebpackContext.id = 130;\nmodule.exports = webpackContext;","var map = {\n\t\"./a_button.png\": 168,\n\t\"./b_button.png\": 169,\n\t\"./crystal.png\": 170,\n\t\"./d_pad_button.png\": 171,\n\t\"./heart_empty.png\": 172,\n\t\"./heart_full.png\": 173,\n\t\"./heart_half.png\": 174,\n\t\"./key.png\": 175\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tif(!__webpack_require__.m[id]) {\n\t\tvar e = new Error(\"Module '\" + req + \"' ('\" + id + \"') is not available (weak dependency)\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nwebpackContext.id = 131;\nmodule.exports = webpackContext;","var map = {\n\t\"./city\": 41,\n\t\"./city.json\": 41,\n\t\"./city.png\": 102,\n\t\"./objects\": 42,\n\t\"./objects.json\": 42,\n\t\"./objects.png\": 103,\n\t\"./village\": 43,\n\t\"./village.json\": 43,\n\t\"./village.png\": 104\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tif(!__webpack_require__.m[id]) {\n\t\tvar e = new Error(\"Module '\" + req + \"' ('\" + id + \"') is not available (weak dependency)\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nwebpackContext.id = 132;\nmodule.exports = webpackContext;","var map = {\n\t\"./coin\": 59,\n\t\"./coin.json\": 59,\n\t\"./coin.png\": 160,\n\t\"./enemy\": 60,\n\t\"./enemy.json\": 60,\n\t\"./enemy.png\": 161,\n\t\"./hero\": 61,\n\t\"./hero.json\": 61,\n\t\"./hero.png\": 162,\n\t\"./npc_01\": 62,\n\t\"./npc_01.json\": 62,\n\t\"./npc_01.png\": 163,\n\t\"./npc_02\": 63,\n\t\"./npc_02.json\": 63,\n\t\"./npc_02.png\": 164,\n\t\"./npc_03\": 64,\n\t\"./npc_03.json\": 64,\n\t\"./npc_03.png\": 165,\n\t\"./npc_04\": 65,\n\t\"./npc_04.json\": 65,\n\t\"./npc_04.png\": 166,\n\t\"./npc_05\": 66,\n\t\"./npc_05.json\": 66,\n\t\"./npc_05.png\": 167\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tif(!__webpack_require__.m[id]) {\n\t\tvar e = new Error(\"Module '\" + req + \"' ('\" + id + \"') is not available (weak dependency)\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nwebpackContext.id = 133;\nmodule.exports = webpackContext;","var map = {\n\t\"./sample_indoor.json\": [\n\t\t57,\n\t\t38\n\t],\n\t\"./sample_map.json\": [\n\t\t58,\n\t\t39\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 135;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./city.json\": [\n\t\t41,\n\t\t0\n\t],\n\t\"./objects.json\": [\n\t\t42,\n\t\t1\n\t],\n\t\"./village.json\": [\n\t\t43,\n\t\t2\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 136;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./city\": [\n\t\t41,\n\t\t3,\n\t\t0\n\t],\n\t\"./city.json\": [\n\t\t41,\n\t\t3,\n\t\t0\n\t],\n\t\"./city.png\": [\n\t\t102,\n\t\t9,\n\t\t27\n\t],\n\t\"./objects\": [\n\t\t42,\n\t\t3,\n\t\t1\n\t],\n\t\"./objects.json\": [\n\t\t42,\n\t\t3,\n\t\t1\n\t],\n\t\"./objects.png\": [\n\t\t103,\n\t\t9,\n\t\t28\n\t],\n\t\"./village\": [\n\t\t43,\n\t\t3,\n\t\t2\n\t],\n\t\"./village.json\": [\n\t\t43,\n\t\t3,\n\t\t2\n\t],\n\t\"./village.png\": [\n\t\t104,\n\t\t9,\n\t\t29\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[2]).then(function() {\n\t\treturn __webpack_require__.t(id, ids[1])\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 137;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./coin\": [\n\t\t105,\n\t\t7,\n\t\t3\n\t],\n\t\"./coin.json\": [\n\t\t105,\n\t\t7,\n\t\t3\n\t],\n\t\"./coin.png\": [\n\t\t94,\n\t\t9,\n\t\t4\n\t],\n\t\"./enemy\": [\n\t\t106,\n\t\t7,\n\t\t5\n\t],\n\t\"./enemy.json\": [\n\t\t106,\n\t\t7,\n\t\t5\n\t],\n\t\"./enemy.png\": [\n\t\t95,\n\t\t9,\n\t\t6\n\t],\n\t\"./hero\": [\n\t\t107,\n\t\t7,\n\t\t7\n\t],\n\t\"./hero.json\": [\n\t\t107,\n\t\t7,\n\t\t7\n\t],\n\t\"./hero.png\": [\n\t\t96,\n\t\t9,\n\t\t8\n\t],\n\t\"./npc_01\": [\n\t\t108,\n\t\t7,\n\t\t9\n\t],\n\t\"./npc_01.json\": [\n\t\t108,\n\t\t7,\n\t\t9\n\t],\n\t\"./npc_01.png\": [\n\t\t97,\n\t\t9,\n\t\t10\n\t],\n\t\"./npc_02\": [\n\t\t109,\n\t\t7,\n\t\t11\n\t],\n\t\"./npc_02.json\": [\n\t\t109,\n\t\t7,\n\t\t11\n\t],\n\t\"./npc_02.png\": [\n\t\t98,\n\t\t9,\n\t\t12\n\t],\n\t\"./npc_03\": [\n\t\t110,\n\t\t7,\n\t\t13\n\t],\n\t\"./npc_03.json\": [\n\t\t110,\n\t\t7,\n\t\t13\n\t],\n\t\"./npc_03.png\": [\n\t\t99,\n\t\t9,\n\t\t14\n\t],\n\t\"./npc_04\": [\n\t\t111,\n\t\t7,\n\t\t15\n\t],\n\t\"./npc_04.json\": [\n\t\t111,\n\t\t7,\n\t\t15\n\t],\n\t\"./npc_04.png\": [\n\t\t100,\n\t\t9,\n\t\t16\n\t],\n\t\"./npc_05\": [\n\t\t112,\n\t\t7,\n\t\t17\n\t],\n\t\"./npc_05.json\": [\n\t\t112,\n\t\t7,\n\t\t17\n\t],\n\t\"./npc_05.png\": [\n\t\t101,\n\t\t9,\n\t\t18\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[2]).then(function() {\n\t\treturn __webpack_require__.t(id, ids[1])\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 138;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}