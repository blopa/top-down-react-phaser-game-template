(this["webpackJsonptop-down-react-phaser-game-template"]=this["webpackJsonptop-down-react-phaser-game-template"]||[]).push([[20],[,,function(t,e,n){"use strict";n.d(e,"D",(function(){return r})),n.d(e,"C",(function(){return c})),n.d(e,"x",(function(){return o})),n.d(e,"w",(function(){return a})),n.d(e,"y",(function(){return i})),n.d(e,"z",(function(){return u})),n.d(e,"q",(function(){return s})),n.d(e,"l",(function(){return d})),n.d(e,"f",(function(){return l})),n.d(e,"p",(function(){return f})),n.d(e,"h",(function(){return p})),n.d(e,"u",(function(){return b})),n.d(e,"k",(function(){return j})),n.d(e,"e",(function(){return h})),n.d(e,"o",(function(){return m})),n.d(e,"g",(function(){return O})),n.d(e,"t",(function(){return g})),n.d(e,"i",(function(){return v})),n.d(e,"r",(function(){return y})),n.d(e,"A",(function(){return x})),n.d(e,"v",(function(){return w})),n.d(e,"E",(function(){return _})),n.d(e,"j",(function(){return E})),n.d(e,"s",(function(){return k})),n.d(e,"m",(function(){return S})),n.d(e,"B",(function(){return D})),n.d(e,"n",(function(){return C})),n.d(e,"b",(function(){return N})),n.d(e,"d",(function(){return T})),n.d(e,"c",(function(){return M})),n.d(e,"a",(function(){return A}));var r=16,c=16,o=25*r,a=14*c,i=500,u=10,s="hero",d="enemy",l="coin",f="heart",p="crystal",b="key",j=1,h=2,m=3,O=4,g=5,v=6,y="walk_position_02",x="right",w="left",_="up",E="down",k=["objects"],S="Enter",D="Space",C="Escape",N="ArrowLeft",T="ArrowUp",M="ArrowRight",A="ArrowDown"},,function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"v",(function(){return u})),n.d(e,"h",(function(){return s})),n.d(e,"m",(function(){return d})),n.d(e,"u",(function(){return l})),n.d(e,"z",(function(){return f})),n.d(e,"t",(function(){return p})),n.d(e,"r",(function(){return b})),n.d(e,"p",(function(){return j})),n.d(e,"s",(function(){return h})),n.d(e,"o",(function(){return m})),n.d(e,"q",(function(){return O})),n.d(e,"n",(function(){return g})),n.d(e,"l",(function(){return v})),n.d(e,"j",(function(){return y})),n.d(e,"k",(function(){return x})),n.d(e,"w",(function(){return w})),n.d(e,"y",(function(){return _})),n.d(e,"f",(function(){return E})),n.d(e,"x",(function(){return k})),n.d(e,"g",(function(){return S})),n.d(e,"A",(function(){return D})),n.d(e,"i",(function(){return C})),n.d(e,"B",(function(){return N}));var r="ADD_LOADED_FONT",c="ADD_LOADED_ATLAS",o="ADD_LOADED_IMAGE",a="ADD_LOADED_MAPS",i="ADD_LOADED_JSON",u="SET_MAP_KEY",s="SET_TILESET",d="SET_FACING_DIRECTION",l="SET_INITIAL_POSITION",f="SET_PREVIOUS_POSITION",p="SET_INITIAL_FRAME",b="SET_GAME_WIDTH",j="SET_GAME_HEIGHT",h="SET_GAME_ZOOM",m="SET_GAME_CANVAS",O="SET_GAME_LOCALE",g="SET_GAME_CAMERA_SIZE_CALLBACK",v="SET_DIALOG_MESSAGES",y="SET_DIALOG_ACTION",x="SET_DIALOG_CHARACTER_NAME",w="SET_MENU_ITEMS",_="SET_MENU_POSITION",E="ADD_MENU_ITEM",k="SET_MENU_ON_SELECT",S="ADD_TEXT",D="SET_TEXTS",C="REMOVE_TEXT",N="UPDATE_TEXT_VARIABLES"},,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"i",(function(){return u})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return f})),n.d(e,"g",(function(){return p})),n.d(e,"f",(function(){return b})),n.d(e,"h",(function(){return j})),n.d(e,"e",(function(){return h}));var r=n(5),c=n(16),o=n(2),a=n(43),i=function(t){return"object"===typeof t&&(null===t||void 0===t?void 0:t.constructor)===Object},u=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"down",c=(e={},Object(r.a)(e,o.m,13),Object(r.a)(e,o.B,32),Object(r.a)(e,o.b,37),Object(r.a)(e,o.d,38),Object(r.a)(e,o.c,39),Object(r.a)(e,o.a,40),e),a=document.createEvent("HTMLEvents");a.initEvent("key".concat(n),!0,!1),a.code=t,a.keyCode=c[t],document.dispatchEvent(a)},s=function(t){return i(t)?[t.key,t.variables]:[t,{}]},d=function(){return a.a.dispatch},l=function(){return a.a.getState()},f=function(t,e,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{x:0,y:0},i=new c.GameObjects.Rectangle(t,e,n,r,o).setOrigin(a.x,a.y);return t.physics.add.existing(i),i.body.setImmovable(!0),i},p=function(t){try{return n(165).resolve("./".concat(t)),!0}catch(e){return console.error("Error loading file ".concat(t)),!1}},b=function(t){try{return n(166).resolve("./".concat(t)),!0}catch(e){return console.error("Error loading file ".concat(t)),!1}},j=function(t){try{return n(167).resolve("./".concat(t)),!0}catch(e){return console.error("Error loading file ".concat(t)),!1}},h=function(t){try{return n(168).resolve("./".concat(t)),!0}catch(e){return console.error("Error loading file ".concat(t)),!1}}},,,,,,,,function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return u}));var r=function(t){return t.game.width},c=function(t){return t.game.height},o=function(t){return t.game.zoom},a=function(t){return t.game.canvas},i=function(t){return t.game.locale},u=function(t){return t.game.cameraSizeUpdateCallback}},,,,,function(t,e,n){"use strict";n.d(e,"d",(function(){return E})),n.d(e,"e",(function(){return k})),n.d(e,"f",(function(){return S})),n.d(e,"i",(function(){return D})),n.d(e,"g",(function(){return C})),n.d(e,"k",(function(){return N})),n.d(e,"b",(function(){return T})),n.d(e,"h",(function(){return M})),n.d(e,"c",(function(){return A})),n.d(e,"j",(function(){return P})),n.d(e,"a",(function(){return L}));var r=n(12),c=n(5),o=n(16),a=n(2),i=n(19),u=n(43),s=function(t){return t.mapData.mapKey},d=function(t){return t.mapData.tilesets},l=function(t){return t.heroData.facingDirection},f=function(t){return t.heroData.initialPosition},p=function(t){return t.heroData.initialFrame},b=n(42),j=n(4),h=function(t){return function(e){return e({type:j.k,payload:t})}},m=function(t){return function(e){return e({type:j.l,payload:t})}},O=function(t){return function(e){return e({type:j.j,payload:t})}},g=n(61),v=n(62),y=n(63),x=n(64),w=n(65),_=function(t){return t((0,u.a.getState)())},E=function(t){t.gridEngine.movementStarted().subscribe((function(e){var n=e.charId,r=e.direction,c=t.sprites.getChildren().find((function(t){return t.name===n}));c&&c.anims.play("".concat(c.texture.key,"_walk_").concat(r))})),t.gridEngine.movementStopped().subscribe((function(e){var n=e.charId,r=e.direction,c=t.sprites.getChildren().find((function(t){return t.name===n}));c&&(c.anims.stop(),c.setFrame(a.r.replace("position",r)))})),t.gridEngine.directionChanged().subscribe((function(e){var n=e.charId,r=e.direction,c=t.sprites.getChildren().find((function(t){return t.name===n}));c&&c.setFrame(a.r.replace("position",r))}))},k=function(t){var e;t.actionKey=t.input.keyboard.addKey(o.Input.Keyboard.KeyCodes.SPACE),t.cursors=t.input.keyboard.createCursorKeys(),t.wasd=t.input.keyboard.addKeys((e={},Object(c.a)(e,a.E,o.Input.Keyboard.KeyCodes.W),Object(c.a)(e,a.j,o.Input.Keyboard.KeyCodes.S),Object(c.a)(e,a.v,o.Input.Keyboard.KeyCodes.A),Object(c.a)(e,a.A,o.Input.Keyboard.KeyCodes.D),e))},S=function(t){t.sprites=t.add.group(),t.enemies=t.add.group(),t.items=t.add.group(),t.mapLayers=t.add.group()},D=function(t){var e=_(s),n=_(d),r=(t.add.group(),t.make.tilemap({key:e}));n.forEach((function(t){r.addTilesetImage(t,t)})),r.layers.forEach((function(t,e){r.createLayer(t.name,n,0,0)})),t.map=r},C=function(t){var e=_(p),n=t.physics.add.sprite(0,0,a.q,e).setName(a.q).setOrigin(0,0).setDepth(1);n.actionCollider=Object(i.a)(t,0,0,a.D-2,a.C-2);n.update=function(e,r){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.body,r=e.top,c=e.right,o=e.bottom,i=e.left;switch(t.gridEngine.getFacingDirection(a.q)){case a.j:n.actionCollider.setX(i+1),n.actionCollider.setY(o);break;case a.E:n.actionCollider.setX(i+1),n.actionCollider.setY(r-n.body.height+2);break;case a.v:n.actionCollider.setX(i-n.body.width+2),n.actionCollider.setY(r+1);break;case a.A:n.actionCollider.setX(c),n.actionCollider.setY(r+1)}}()},t.heroSprite=n,t.sprites.add(n)},N=function(t){var e=Object(i.b)();t.map.objects.forEach((function(n,c){var u;null===n||void 0===n||null===(u=n.objects)||void 0===u||u.forEach((function(n,u){var s=n.gid,d=n.properties,l=n.x,f=n.y,p=Object.fromEntries((null===d||void 0===d?void 0:d.map((function(t){return[t.name,t.value]})))||[]);switch(s){case a.k:var j="".concat(a.l,"_").concat(c).concat(u),E=t.physics.add.sprite(l,f,a.l,a.r.replace("position",a.j)).setName(j).setOrigin(0,1).setDepth(1);t.sprites.add(E),t.enemies.add(E),t.gridEngine.addCharacter({id:j,offsetY:0,sprite:E,startPosition:{x:Math.floor(l/a.D),y:Math.floor(f/a.C)-1}});var k=t.physics.add.overlap(E,t.heroSprite.actionCollider,(function(n,r){o.Input.Keyboard.JustDown(t.actionKey)&&(0===_(b.c).length&&(k.active=!1,e(h("monster")),e(m(["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Praesent id neque sodales, feugiat tortor non, fringilla ex.","Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur"])),e(O((function(){o.Input.Keyboard.JustDown(t.actionKey),e(h("")),e(m([])),e(O(null))}))),t.time.delayedCall(0,(function(){k.active=!0}))))}));break;case a.e:var S="".concat(a.f,"_").concat(c).concat(u),D=t.physics.add.sprite(l,f,a.f,"coin_idle_01").setOrigin(0,1).setName(S).setDepth(1),C="".concat(a.f,"_idle");t.anims.exists(C)||t.anims.create({key:C,frames:Array.from({length:2}).map((function(t,e){return{key:a.f,frame:"".concat(a.f,"_idle_").concat((e+1).toString().padStart(2,"0"))}})),frameRate:3,repeat:-1,yoyo:!1}),D.anims.play(C),t.items.add(D);break;case a.o:var N="".concat(a.p,"_").concat(c).concat(u),T=t.physics.add.image(l,f,a.p).setOrigin(0,1).setName(N).setDepth(1);t.items.add(T);break;case a.g:var M="".concat(a.h,"_").concat(c).concat(u),A=t.physics.add.image(l,f,a.h).setOrigin(0,1).setName(M).setDepth(1);t.items.add(A);break;case a.t:var P="".concat(a.u,"_").concat(c).concat(u),z=t.physics.add.image(l,f,a.u).setOrigin(0,1).setName(P).setDepth(1);t.items.add(z);break;case a.i:p.type;var I=p.map,U=p.position,F=Object(i.a)(t,l,f,a.D,a.C,{x:0,y:1}),R=t.physics.add.overlap(t.heroSprite,F,(function(){t.physics.world.removeCollider(R);var n=U.split(";").map((function(t){return Number.parseInt(t,10)})),c=Object(r.a)(n,2),o=c[0],i=c[1],u=t.gridEngine.getFacingDirection(a.q);Promise.all([e(Object(v.a)(I)),e(Object(g.a)(u)),e(Object(y.a)({x:o,y:i})),e(Object(x.a)({x:o,y:i})),e(Object(w.a)(a.r.replace("position",u)))]).then((function(){L(t,"GameScene",{atlases:["hero"],images:[],mapKey:I})}))}))}}))}))},T=function(t){var e=t.sys.game,n=t.cameras.main;n.startFollow(t.heroSprite,!0),n.setFollowOffset(-t.heroSprite.width,-t.heroSprite.height),n.setBounds(0,0,Math.max(t.map.widthInPixels,e.scale.gameSize.width),Math.max(t.map.heightInPixels,e.scale.gameSize.height)),t.map.widthInPixels<e.scale.gameSize.width&&n.setPosition((e.scale.gameSize.width-t.map.widthInPixels)/2),t.map.heightInPixels<e.scale.gameSize.height&&n.setPosition(n.x,(e.scale.gameSize.height-t.map.heightInPixels)/2)},M=function(t){[a.E,a.j,a.v,a.A].forEach((function(e){!function(t,e,n,r){t.anims.create({key:"".concat(e,"_").concat(n),frames:Array.from({length:r}).map((function(t,r){return{key:e,frame:"".concat(n,"_").concat((r+1).toString().padStart(2,"0"))}})),frameRate:4,repeat:-1,yoyo:!0})}(t,a.q,"walk_".concat(e),3)}))},A=function(t){var e=_(f),n=_(l);t.gridEngine.create(t.map,{characters:[{id:a.q,sprite:t.heroSprite,startPosition:e,facingDirection:n}]})},P=function(t){t.cursors.left.isDown||t.wasd[a.v].isDown?t.gridEngine.move(a.q,a.v):t.cursors.right.isDown||t.wasd[a.A].isDown?t.gridEngine.move(a.q,a.A):t.cursors.up.isDown||t.wasd[a.E].isDown?t.gridEngine.move(a.q,a.E):(t.cursors.down.isDown||t.wasd[a.j].isDown)&&t.gridEngine.move(a.q,a.j)},L=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.scene.start("LoadAssetsScene",{nextScene:e,assets:n})}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return c}));var r=function(t,e,n,r){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.5,a=Math.floor(window.innerWidth/t),i=Math.floor(window.innerHeight/e),u=Math.min(a,i)||1,s=Math.floor(window.innerWidth/n)*n/u,d=Math.floor(window.innerHeight/r)*r/u;return{zoom:u,width:Math.min(s,Math.floor(t*(1+c)/n)*n),height:Math.min(d,Math.floor(e*(1+o)/r)*r)}},c=function(t){return new Promise((function(e,n){t.on("filecomplete",e).on("loaderror",n),t.start()}))}},,,,,,,,,function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return o}));var r=function(t){return t.dialog.messages},c=function(t){return t.dialog.action},o=function(t){return t.dialog.characterName}},function(t,e,n){"use strict";var r=n(54),c=n(101),o=n(15),a=n(7),i=n(4),u={fonts:[],atlases:[],images:[],maps:[],jsons:[]},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.b:return Object(a.a)(Object(a.a)({},t),{},{fonts:[].concat(Object(o.a)(t.fonts),[e.payload])});case i.a:return Object(a.a)(Object(a.a)({},t),{},{atlases:[].concat(Object(o.a)(t.atlases),[e.payload])});case i.c:return Object(a.a)(Object(a.a)({},t),{},{images:[].concat(Object(o.a)(t.images),[e.payload])});case i.e:return Object(a.a)(Object(a.a)({},t),{},{maps:[].concat(Object(o.a)(t.maps),[e.payload])});case i.d:return Object(a.a)(Object(a.a)({},t),{},{jsons:[].concat(Object(o.a)(t.jsons),[e.payload])});default:return t}},d=n(2),l={width:d.x,height:d.w,zoom:1,locale:"en"},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.r:return Object(a.a)(Object(a.a)({},t),{},{width:e.payload});case i.p:return Object(a.a)(Object(a.a)({},t),{},{height:e.payload});case i.s:return Object(a.a)(Object(a.a)({},t),{},{zoom:e.payload});case i.o:return Object(a.a)(Object(a.a)({},t),{},{canvas:e.payload});case i.n:return Object(a.a)(Object(a.a)({},t),{},{cameraSizeUpdateCallback:e.payload});case i.q:return Object(a.a)(Object(a.a)({},t),{},{locale:e.payload});default:return t}},p={facingDirection:"",initialPosition:{},previousPosition:{},initialFrame:""},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.m:return Object(a.a)(Object(a.a)({},t),{},{facingDirection:e.payload});case i.u:return Object(a.a)(Object(a.a)({},t),{},{initialPosition:e.payload});case i.z:return Object(a.a)(Object(a.a)({},t),{},{previousPosition:e.payload});case i.t:return Object(a.a)(Object(a.a)({},t),{},{initialFrame:e.payload});default:return t}},j={mapKey:"",tilesets:[]},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.v:return Object(a.a)(Object(a.a)({},t),{},{mapKey:e.payload});case i.h:return Object(a.a)(Object(a.a)({},t),{},{tilesets:[].concat(Object(o.a)(t.tilesets),[e.payload])});default:return t}},m={messages:[],action:null,characterName:""},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.l:return Object(a.a)(Object(a.a)({},t),{},{messages:e.payload});case i.j:return Object(a.a)(Object(a.a)({},t),{},{action:e.payload});case i.k:return Object(a.a)(Object(a.a)({},t),{},{characterName:e.payload});default:return t}},g={items:[],position:"center",onSelect:null},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.w:return Object(a.a)(Object(a.a)({},t),{},{items:e.payload});case i.x:return Object(a.a)(Object(a.a)({},t),{},{onSelect:e.payload});case i.y:return Object(a.a)(Object(a.a)({},t),{},{position:e.payload});case i.f:return Object(a.a)(Object(a.a)({},t),{},{items:[].concat(Object(o.a)(t.items),[e.payload])});default:return t}},y={texts:[]},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.A:return Object(a.a)(Object(a.a)({},t),{},{texts:e.payload});case i.g:return Object(a.a)(Object(a.a)({},t),{},{texts:[].concat(Object(o.a)(t.texts),[e.payload])});case i.B:var n=e.payload,r=n.key,c=n.variables;return Object(a.a)(Object(a.a)({},t),{},{texts:Object(o.a)(t.texts.map((function(t){return t.key===r?Object(a.a)(Object(a.a)({},t),{},{variables:c}):t})))});case i.i:return Object(a.a)(Object(a.a)({},t),{},{texts:Object(o.a)(t.texts.filter((function(t){return t.key!==e.payload})))});default:return t}},w=Object(r.b)({loadedAssets:s,heroData:b,mapData:h,game:f,dialog:O,menu:v,text:x});e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.c)(w,t,Object(r.a)(c.a))}()},,,,,,function(t,e,n){"use strict";n.r(e),e.default=n.p+"e626617811caba9b333c770981ec9384.png"},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return o}));var r=function(t){return t.menu.items},c=function(t){return t.menu.position},o=function(t){return t.menu.onSelect}},,,,,,,,,,,function(t,e,n){"use strict";var r=n(4);e.a=function(t){return function(e){return e({type:r.m,payload:t})}}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return function(e){return e({type:r.v,payload:t})}}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return function(e){return e({type:r.u,payload:t})}}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return function(e){return e({type:r.z,payload:t})}}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return function(e){return e({type:r.t,payload:t})}}},,,,,,,function(t,e,n){var r={"./coin.json":[82,30],"./enemy.json":[83,31],"./hero.json":[84,32],"./npc_01.json":[85,33],"./npc_02.json":[86,34],"./npc_03.json":[87,35],"./npc_04.json":[88,36],"./npc_05.json":[89,37]};function c(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],c=e[0];return n.e(e[1]).then((function(){return n.t(c,3)}))}c.keys=function(){return Object.keys(r)},c.id=72,t.exports=c},function(t,e,n){var r={"./a_button.png":[74],"./b_button.png":[75],"./crystal.png":[182,23],"./d_pad_button.png":[49],"./heart_empty.png":[183,24],"./heart_full.png":[181,19],"./heart_half.png":[184,25],"./key.png":[185,26]};function c(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],c=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=73,t.exports=c},function(t,e,n){"use strict";n.r(e),e.default=n.p+"28fbe1ed0ea4f2d7067dcb3799703b9b.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"1d70a5d8a5b03ee62ec095c92a9100f3.png"},,,,,,,,,,,,,,,,,,function(t,e,n){var r={"./coin.png":[126,4],"./enemy.png":[127,6],"./hero.png":[128,8],"./npc_01.png":[129,10],"./npc_02.png":[130,12],"./npc_03.png":[131,14],"./npc_04.png":[132,16],"./npc_05.png":[133,18]};function c(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],c=e[0];return n.e(e[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=93,t.exports=c},,,,,,,,,function(t,e,n){"use strict";(function(t){var r=n(25),c=n(38),o=n(12),a=n(16),i=n.n(a),u=n(103),s=n(1),d=n(17),l=n(178),f=n(104),p=n.n(f),b=n(33),j=n(2),h=n(120),m=n(105),O=n(117),g=n(118),v=n(106),y=n(107),x=n(108),w=n(109),_=n(121),E=n(112),k=n(113),S=n(122),D=n(42),C=n(50),N=n(114),T=n(27),M=n(10);e.a=function(){var e,a,f="production"!==(null===(e=t)||void 0===e||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===a?void 0:a.NODE_ENV),A=Object(d.b)(),P=Object(s.useState)(null),L=Object(o.a)(P,2),z=L[0],I=L[1],U=Object(d.c)(D.c),F=Object(d.c)(C.a),R=Object(d.c)(N.a),K=Object(d.c)(T.d),B=Object(d.c)(T.a),G=Object(s.useState)({}),W=Object(o.a)(G,2),q=W[0],H=W[1];Object(s.useEffect)((function(){function t(){return t=Object(c.a)(Object(r.a)().mark((function t(){var e;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(174)("./".concat(K,".json"));case 2:e=t.sent,H(e.default);case 4:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[K]);var X=Object(s.useCallback)((function(t,e,n){A(Object(v.a)(e)),A(Object(y.a)(t)),A(Object(x.a)(n))}),[A]);return Object(s.useEffect)((function(){if(!z){var t=Object(b.b)(j.x,j.w,j.D,j.C),e=t.width,n=t.height,r=t.zoom,c=new i.a.Game({type:i.a.AUTO,title:"some-game-title",parent:"game-content",orientation:i.a.Scale.LANDSCAPE,localStorageName:"some-game-title",width:e,height:n,zoom:r,autoRound:!0,pixelArt:!0,scale:{autoCenter:i.a.Scale.CENTER_BOTH,mode:i.a.Scale.NONE},scene:[m.a,O.a,h.a,g.a],physics:{default:"arcade",arcade:{debug:f}},plugins:{scene:[{key:"gridEngine",plugin:u.a,mapping:"gridEngine"}]},backgroundColor:"#000000"});X(e,n,r),I(c),f&&(window.phaserGame=c)}}),[z,A,f,X]),Object(s.useEffect)((function(){if(!z)return function(){};var t;z.canvas&&A(Object(w.a)(z.canvas));var e=function(){var t=function(){var t=Object(b.b)(j.x,j.w,j.D,j.C);z.scale.setZoom(t.zoom),z.scale.resize(t.width,t.height),X(t.width,t.height,t.zoom),null===B||void 0===B||B()};t(),setTimeout(t,j.z)},n=function(){clearTimeout(t),t=setTimeout(e,j.y)};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[z,A,X,B]),Object(M.jsxs)(l.a,{messages:q,locale:K,defaultLocale:"en",children:[Object(M.jsx)("div",{id:"game-content"},"game-content"),U.length>0&&Object(M.jsx)(_.a,{}),F.length>0&&Object(M.jsx)(k.a,{}),R.length>0&&R.map((function(t){var e=t.key,n=t.variables,r=t.config;return Object(M.jsx)(S.a,{translationKey:e,variables:n,config:r},e)})),p()()&&Object(M.jsx)(E.a,{})]})}}).call(this,n(160))},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(9),c=n(8),o=n(22),a=n(23),i=n(16),u=n(32),s=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){return Object(r.a)(this,n),e.call(this,"BootScene")}return Object(c.a)(n,[{key:"preload",value:function(){}},{key:"create",value:function(){Object(u.a)(this,"MainMenuScene",{fonts:['"Press Start 2P"']})}}]),n}(i.Scene)},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return function(e){return e({type:r.p,payload:t})}}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return function(e){return e({type:r.r,payload:t})}}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return function(e){return e({type:r.s,payload:t})}}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return function(e){return e({type:r.o,payload:t})}}},,,function(t,e,n){"use strict";var r=n(12),c=n(1),o=n(16),a=n(125),i=n(36),u=n.n(i),s=n(17),d=n(49),l=n(74),f=n(75),p=n(27),b=n(19),j=n(2),h=n(10),m=Object(a.a)((function(t){return{buttonsWrapper:function(t){var e=t.zoom,n=t.height;return{display:"flex",justifyContent:"space-between",padding:"0 ".concat(15*e,"px"),marginTop:"".concat(Math.ceil(window.innerHeight-n*e-100*e),"px"),position:"relative",userSelect:"none",userDrag:"none",zIndex:10}},button:function(t){t.zoom,t.width;return{pointerEvents:"none","-webkit-touch-callout":"none",userSelect:"none",userDrag:"none","&.is-touched":{filter:"saturate(300%) brightness(70%)"}}},aButton:function(t){var e=t.zoom;t.width;return{width:"".concat(40*e,"px"),height:"".concat(40*e,"px")}},bButton:function(t){var e=t.zoom;t.width;return{width:"".concat(40*e,"px"),height:"".concat(40*e,"px")}},dPadWrapper:function(t){var e=t.zoom;t.width;return{width:"".concat(76*e,"px"),height:"".concat(76*e,"px")}},dPadLeft:function(t){var e=t.zoom;t.width;return{width:"".concat(38*e,"px"),height:"".concat(30.5*e,"px"),marginBottom:"-".concat(19*e,"px")}},dPadRight:function(t){var e=t.zoom;t.width;return{transform:"rotate(180deg)",width:"".concat(38*e,"px"),height:"".concat(30.5*e,"px"),marginBottom:"-".concat(19*e,"px")}},dPadUp:function(t){var e=t.zoom;t.width;return{transform:"rotate(90deg)",width:"".concat(38*e,"px"),height:"".concat(30.5*e,"px"),marginLeft:"-".concat(57*e,"px")}},dPadDown:function(t){var e=t.zoom;t.width;return{transform:"rotate(270deg)",width:"".concat(38*e,"px"),height:"".concat(30.5*e,"px"),marginLeft:"-".concat(38*e,"px"),marginBottom:"-".concat(38*e,"px")}}}}));e.a=function(){var t=Object(s.c)(p.e),e=Object(s.c)(p.c),n=Object(s.c)(p.f),a=m({width:t,height:e,zoom:n}),i=Object(c.useRef)(null),O=Object(c.useRef)(null),g=Object(c.useRef)(null),v=Object(c.useRef)(null),y=Object(c.useRef)(null),x=Object(c.useRef)(null),w=Object(c.useRef)({}),_=Object(c.useCallback)((function(t,e){var n=y.current.getBoundingClientRect(),r=n.width,c=n.x,a=n.y,i=r/2;return new o.Geom.Circle(c+i,a+i,i).contains(t,e)}),[y]),E=Object(c.useCallback)((function(t,e){var n=x.current.getBoundingClientRect(),r=n.width,c=n.x,a=n.y,i=r/2;return new o.Geom.Circle(c+i,a+i,i).contains(t,e)}),[x]),k=Object(c.useCallback)((function(t,e){var n=i.current.getBoundingClientRect(),r=n.left,c=n.right,a=n.top,u=n.bottom,s=n.height;return new o.Geom.Polygon([{x:r,y:a},{x:c-31,y:a},{x:c,y:a+s/2},{x:c-31,y:u},{x:r,y:u}]).contains(t,e)}),[i]),S=Object(c.useCallback)((function(t,e){var n=g.current.getBoundingClientRect(),r=n.left,c=n.right,a=n.top,i=n.bottom,u=n.width;return new o.Geom.Polygon([{x:r,y:a},{x:c,y:a},{x:c,y:i-31},{x:r+u/2,y:i},{x:r,y:i-31}]).contains(t,e)}),[g]),D=Object(c.useCallback)((function(t,e){var n=O.current.getBoundingClientRect(),r=n.left,c=n.right,a=n.top,i=n.bottom,u=n.height;return new o.Geom.Polygon([{x:r,y:a+u/2},{x:r+31,y:a},{x:c,y:a},{x:c,y:i},{x:r+31,y:i}]).contains(t,e)}),[O]),C=Object(c.useCallback)((function(t,e){var n=v.current.getBoundingClientRect(),r=n.left,c=n.right,a=n.top,i=n.bottom,u=n.width;return new o.Geom.Polygon([{x:r+u/2,y:a},{x:c,y:a+31},{x:c,y:i},{x:r,y:i},{x:r,y:a+31}]).contains(t,e)}),[v]),N=Object(c.useCallback)((function(t,e){return k(t,e)?[j.b,i]:D(t,e)?[j.c,O]:S(t,e)?[j.d,g]:C(t,e)?[j.a,v]:_(t,e)?[j.B,y]:E(t,e)?[j.m,x]:[]}),[_,E,S,C,k,D]),T=Object(c.useCallback)((function(t,e){var n=t.x,c=t.y,o=N(n,c),a=Object(r.a)(o,2),i=a[0],u=a[1];i&&u&&(Object(b.i)(i,e),"down"===e?u.current.classList.add("is-touched"):u.current.classList.remove("is-touched"))}),[N]);Object(c.useEffect)((function(){var t=function(t){w.current=t,T(t,"down")};document.addEventListener("pointerdown",t);var e=function(t){T(w.current,"up"),w.current={}};return document.addEventListener("pointerup",e),function(){window.removeEventListener("pointerdown",t),window.removeEventListener("pointerup",e)}}),[]);var M=Object(c.useCallback)((function(t){return t.preventDefault(),t.stopPropagation(),!1}),[]);return Object(h.jsxs)("div",{className:a.buttonsWrapper,children:[Object(h.jsxs)("div",{className:a.dPadWrapper,children:[Object(h.jsx)("img",{ref:i,className:u()(a.button,a.dPadLeft),src:d.default,alt:"test",onContextMenu:M}),Object(h.jsx)("img",{ref:O,className:u()(a.button,a.dPadRight),src:d.default,alt:"test",onContextMenu:M}),Object(h.jsx)("img",{ref:g,className:u()(a.button,a.dPadUp),src:d.default,alt:"test",onContextMenu:M}),Object(h.jsx)("img",{ref:v,className:u()(a.button,a.dPadDown),src:d.default,alt:"test",onContextMenu:M})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{ref:y,className:u()(a.button,a.aButton),src:l.default,alt:"test",onContextMenu:M}),Object(h.jsx)("img",{ref:x,className:u()(a.button,a.bButton),src:f.default,alt:"test",onContextMenu:M})]})]})}},function(t,e,n){"use strict";var r=n(5),c=n(12),o=n(1),a=n(125),i=n(36),u=n.n(i),s=n(17),d=n(180),l=n(2),f=n(27),p=n(50),b=n(19),j=n(10),h=Object(a.a)((function(t){return{menuWrapper:function(t){var e=t.zoom;return{fontFamily:'"Press Start 2P"',fontSize:"".concat(10*e,"px"),textTransform:"uppercase",position:"absolute",transform:"translate(-50%, 0%)"}},menuPositionWrapper:function(t){var e=t.zoom,n=t.position,r=t.width,c=t.height,o=window.innerWidth-r*e,a=160*e;return"center"===n?{minWidth:"".concat(a,"px"),left:"50%",top:"".concat(c*e/2,"px")}:"left"===n?{minWidth:"".concat(a,"px"),left:"".concat(95*e+o/2,"px"),top:"".concat(50*e,"px")}:{}},menuItemsWrapper:{textAlign:"center",padding:0},menuItem:function(t){var e=t.zoom;return{cursor:"pointer",listStyle:"none",padding:"".concat(5*e,"px"),marginBottom:"".concat(5*e,"px"),backgroundColor:"#94785c",border:"".concat(e,"px solid #79584f")}},selectedMenuItem:function(t){var e=t.zoom;return{fontSize:"".concat(11*e,"px"),border:"".concat(e,"px solid #ddd")}}}}));e.a=function(){var t=Object(s.c)(f.e),e=Object(s.c)(f.c),n=Object(s.c)(f.f),a=Object(s.c)(p.c),i=Object(s.c)(p.a),m=Object(s.c)(p.b),O=h({width:t,height:e,zoom:n,position:a}),g=Object(o.useState)(0),v=Object(c.a)(g,2),y=v[0],x=v[1];return Object(o.useEffect)((function(){var t=function(t){switch(t.code){case l.m:m(i[y]);break;case l.d:y>0&&x(y-1);break;case l.a:i.length-1>y&&x(y+1)}};return window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}}),[i,m,y]),Object(j.jsx)("div",{className:u()(O.menuWrapper,O.menuPositionWrapper),children:Object(j.jsx)("ul",{className:O.menuItemsWrapper,children:i.map((function(t,e){var n=Object(b.d)(t),o=Object(c.a)(n,2),a=o[0],i=o[1];return Object(j.jsx)("li",{className:u()(O.menuItem,Object(r.a)({},O.selectedMenuItem,y===e)),onMouseEnter:function(){x(e)},onClick:function(){m(a,t)},children:Object(j.jsx)(d.a,{id:a,values:i})},a)}))})})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t.text.texts}},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var r=n(7),c=n(31),o=n(25),a=n(38),i=n(9),u=n(8),s=n(22),d=n(23),l=n(16),f=n(4),p=function(t){return function(e){return e({type:f.b,payload:t})}},b=function(t){return function(e){return e({type:f.a,payload:t})}},j=function(t){return function(e){return e({type:f.c,payload:t})}},h=function(t){return function(e){return e({type:f.e,payload:t})}},m=function(t){return function(e){return e({type:f.d,payload:t})}},O=function(t){return function(e){return e({type:f.h,payload:t})}},g=function(t){return t.loadedAssets.fonts},v=function(t){return t.loadedAssets.atlases},y=function(t){return t.loadedAssets.images},x=function(t){return t.loadedAssets.maps},w=function(t){return t.loadedAssets.jsons},_=n(19),E=n(33),k=n(2),S=function(t){Object(s.a)(f,t);var e=Object(d.a)(f);function f(){return Object(i.a)(this,f),e.call(this,"LoadAssetsScene")}return Object(u.a)(f,[{key:"init",value:function(t){this.initData=t}},{key:"create",value:function(){var t=Object(a.a)(Object(o.a)().mark((function t(){var e,i,u,s,d,f,S,D,C,N,T,M,A,P,L,z,I,U,F,R,K,B,G,W,q,H,X,Y,J,V,Z,Q,$,tt,et,nt,rt,ct,ot,at=this;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.cameras.main,u=i.width,s=i.height,d=(null===(e=this.initData)||void 0===e?void 0:e.assets)||{},f=d.fonts,S=void 0===f?[]:f,D=d.atlases,C=void 0===D?[]:D,N=d.images,T=void 0===N?[]:N,M=d.mapKey,A=void 0===M?"":M,P=Object(_.b)(),L=Object(_.c)(),z=g(L),I=this.add.graphics(),U=this.add.graphics(),F=Math.round(.6*u),R=function(t){I.clear(),I.fillStyle(16777215,1),U.fillRect((u-F)/2,s-80,F*t,20)},this.load.on("progress",R),this.load.on("fileprogress",(function(t){console.log(t.key)})),this.load.on("complete",(function(){I.destroy(),U.destroy(),at.load.off("progress"),at.load.off("fileprogress"),at.load.off("complete")})),K=0,null===S||void 0===S||S.forEach((function(t,e){if(!z.includes(t)){A||0!==C.length||0!==T.length||R(S.length-(S.length-(e+1))),P(p(t)),K+=1;var n=at.game.config.backgroundColor;at.add.text(0,0,"",{fontFamily:t,color:l.Display.Color.RGBToString(n.r,n.g,n.b,n.a)})}})),B=v(L),G=y(L),W=x(L),!A||W.includes(A)||!Object(_.g)("".concat(A,".json"))){t.next=45;break}return t.next=20,n(169)("./".concat(A,".json"));case 20:q=t.sent,H=q.default,X=H.tilesets.map((function(t){var e,n;return(null===(e=t.source)||void 0===e?void 0:e.split("/").pop().split(".")[0])||(null===(n=t.image)||void 0===n?void 0:n.split("/").pop().split(".")[0])})),H.layers.filter((function(t){return"objectgroup"===t.type})).forEach((function(t){t.objects.forEach(function(){var t=Object(a.a)(Object(o.a)().mark((function t(e){var r,c,a,i,u,s,d,l,f,p,h,m,O,g,v,y,x,w,S,D,C;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.gid,c=e.properties,t.t0=r,t.next=t.t0===k.k?4:t.t0===k.e?18:t.t0===k.o?32:t.t0===k.g?42:t.t0===k.t?52:62;break;case 4:if(a=k.l,!Object(_.e)("".concat(a,".json"))||!Object(_.e)("".concat(a,".png"))||B.includes(a)){t.next=17;break}return t.next=8,n(72)("./".concat(a,".json"));case 8:return i=t.sent,u=i.default,t.next=12,n(93)("./".concat(a,".png"));case 12:return s=t.sent,d=s.default,P(b(a)),t.next=17,Object(E.a)(at.load.atlas(a,d,u));case 17:return t.abrupt("break",63);case 18:if(l=k.f,!Object(_.e)("".concat(l,".json"))||!Object(_.e)("".concat(l,".png"))||B.includes(l)){t.next=31;break}return t.next=22,n(72)("./".concat(l,".json"));case 22:return f=t.sent,p=f.default,t.next=26,n(93)("./".concat(l,".png"));case 26:return h=t.sent,m=h.default,P(b(l)),t.next=31,Object(E.a)(at.load.atlas(l,m,p));case 31:return t.abrupt("break",63);case 32:if(O=k.p,!Object(_.f)("heart_full.png")||G.includes(O)){t.next=41;break}return t.next=36,n.e(19).then(n.bind(null,181));case 36:return g=t.sent,v=g.default,P(j(O)),t.next=41,Object(E.a)(at.load.image(O,v));case 41:return t.abrupt("break",63);case 42:if(y=k.h,!Object(_.f)("".concat(y,".png"))||G.includes(y)){t.next=51;break}return t.next=46,n(73)("./".concat(y,".png"));case 46:return x=t.sent,w=x.default,P(j(y)),t.next=51,Object(E.a)(at.load.image(y,w));case 51:return t.abrupt("break",63);case 52:if(S=k.u,!Object(_.f)("".concat(S,".png"))||G.includes(S)){t.next=61;break}return t.next=56,n(73)("./".concat(S,".png"));case 56:return D=t.sent,C=D.default,P(j(S)),t.next=61,Object(E.a)(at.load.image(S,C));case 61:case 62:return t.abrupt("break",63);case 63:null===c||void 0===c||c.forEach((function(t){t.name,t.type,t.value}));case 64:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),Y=w(L),J=Object(c.a)(X),t.prev=27,Z=Object(o.a)().mark((function t(){var e,c,a,i,u,s;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=V.value)||k.s.includes(e)){t.next=25;break}if(c={},Y.includes(e)||!Object(_.h)("".concat(e,".json"))){t.next=14;break}return t.next=6,n(170)("./".concat(e,".json"));case 6:return a=t.sent,i=a.default,c=i,P(m(e)),t.next=12,Object(E.a)(at.load.json(e,c));case 12:t.next=15;break;case 14:c=at.cache.json.get(e);case 15:if(G.includes(e)||!Object(_.h)(c.image)){t.next=23;break}return t.next=18,n(171)("./".concat(c.image));case 18:return u=t.sent,s=u.default,P(j(e)),t.next=23,Object(E.a)(at.load.image(e,s));case 23:H.tilesets=H.tilesets.filter((function(t){var e,n,r,c;return!k.s.includes(null===(e=t.source)||void 0===e||null===(n=e.split("/"))||void 0===n||null===(r=n.pop())||void 0===r||null===(c=r.split("."))||void 0===c?void 0:c[0])})).map((function(t){var n;if(null!==(n=t.source)&&void 0!==n&&n.includes("/".concat(e,".json"))){var o=c.image.split(".").pop(),a=t.source.replace(".json",".".concat(o));return delete t.source,Object(r.a)(Object(r.a)(Object(r.a)({},t),c),{},{image:a})}return t})),P(O(e));case 25:case"end":return t.stop()}}),t)})),J.s();case 30:if((V=J.n()).done){t.next=34;break}return t.delegateYield(Z(),"t0",32);case 32:t.next=30;break;case 34:t.next=39;break;case 36:t.prev=36,t.t1=t.catch(27),J.e(t.t1);case 39:return t.prev=39,J.f(),t.finish(39);case 42:return P(h(A)),t.next=45,Object(E.a)(this.load.tilemapTiledJSON(A,H));case 45:Q=Object(c.a)(C),t.prev=46,tt=Object(o.a)().mark((function t(){var e,r,c,a,i,u,s;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=$.value,Object(_.e)("".concat(r,".json"))&&!B.includes(r)){t.next=3;break}return t.abrupt("return","continue");case 3:return t.next=5,n(72)("./".concat(r,".json"));case 5:if(c=t.sent,a=c.default,(i=null===(e=a.textures.find((function(t){return t.image.includes(r)})))||void 0===e?void 0:e.image)&&Object(_.e)(i)){t.next=10;break}return t.abrupt("return","continue");case 10:return t.next=12,n(172)("./".concat(i));case 12:return u=t.sent,s=u.default,P(b(r)),t.next=17,Object(E.a)(at.load.atlas(r,s,a));case 17:case"end":return t.stop()}}),t)})),Q.s();case 49:if(($=Q.n()).done){t.next=56;break}return t.delegateYield(tt(),"t2",51);case 51:if("continue"!==t.t2){t.next=54;break}return t.abrupt("continue",54);case 54:t.next=49;break;case 56:t.next=61;break;case 58:t.prev=58,t.t3=t.catch(46),Q.e(t.t3);case 61:return t.prev=61,Q.f(),t.finish(61);case 64:et=Object(c.a)(T),t.prev=65,et.s();case 67:if((nt=et.n()).done){t.next=80;break}if(rt=nt.value,Object(_.f)("".concat(rt,".png"))&&!G.includes(rt)){t.next=71;break}return t.abrupt("continue",78);case 71:return t.next=73,n(73)("./".concat(rt,".png"));case 73:return ct=t.sent,ot=ct.default,P(j(rt)),t.next=78,Object(E.a)(this.load.image(rt,ot));case 78:t.next=67;break;case 80:t.next=85;break;case 82:t.prev=82,t.t4=t.catch(65),et.e(t.t4);case 85:return t.prev=85,et.f(),t.finish(85);case 88:K>0?document.fonts.ready.then((function(t){at.scene.start(at.initData.nextScene)})):this.scene.start(this.initData.nextScene);case 89:case"end":return t.stop()}}),t,this,[[27,36,39,42],[46,58,61,64],[65,82,85,88]])})));return function(){return t.apply(this,arguments)}}()}]),f}(l.Scene)},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n(9),c=n(8),o=n(22),a=n(23),i=n(16),u=n(2),s=n(62),d=n(61),l=n(63),f=n(64),p=n(65),b=n(4),j=function(t){return function(e){return e({type:b.w,payload:t})}},h=function(t){return function(e){return e({type:b.x,payload:t})}},m=n(32),O=n(19),g=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){return Object(r.a)(this,n),e.call(this,"MainMenuScene")}return Object(c.a)(n,[{key:"preload",value:function(){}},{key:"create",value:function(){var t=this,e=Object(O.b)();e(j(["start_game","exit"])),e(h((function(t,r){"start_game"===t?n():(e(j([])),e(h(null)),window.location.reload())})));var n=function(){return Promise.all([e(j([])),e(h(null)),e(Object(s.a)("sample_map")),e(Object(d.a)(u.j)),e(Object(l.a)({x:30,y:42})),e(Object(f.a)({x:30,y:42})),e(Object(p.a)(u.r.replace("position",u.j)))]).then((function(){Object(m.a)(t,"GameScene",{atlases:["hero"],images:[],mapKey:"sample_map"})}))}}}]),n}(i.Scene)},,function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(9),c=n(8),o=n(22),a=n(23),i=n(16),u=n(32),s=n(19),d=n(4),l=function(t){return function(e){return e({type:d.n,payload:t})}},f=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){return Object(r.a)(this,n),e.call(this,"GameScene")}return Object(c.a)(n,[{key:"create",value:function(){var t=this,e=Object(s.b)();Object(u.e)(this),Object(u.f)(this),Object(u.i)(this),Object(u.g)(this),Object(u.c)(this),Object(u.k)(this),Object(u.b)(this),e(l((function(){Object(u.b)(t)}))),Object(u.h)(this),Object(u.d)(this)}},{key:"update",value:function(t,e){Object(u.j)(this),this.heroSprite.update(t,e)}}]),n}(i.Scene)},function(t,e,n){"use strict";var r=n(12),c=n(1),o=n(125),a=n(17),i=n(77),u=n(10),s=Object(o.a)((function(t){return{dialogMessage:function(t){var e=t.zoom;return{fontFamily:'"Press Start 2P"',fontSize:"".concat(6*e,"px"),textTransform:"uppercase",lineHeight:"".concat(8*e,"px")}}}})),d=function(t){var e=t.message,n=void 0===e?[]:e,r=t.trail,o=void 0===r?35:r,a=t.zoom,d=void 0===a?1:a,l=t.onMessageEnded,f=void 0===l?function(){}:l,p=t.forceShowFullMessage,b=void 0!==p&&p,j=s({zoom:d}),h=Object(c.useMemo)((function(){return n.trim().split("").map((function(t,e){return{item:t,key:e}}))}),[n]),m=Object(i.useTransition)(h,{trail:o,from:{display:"none"},enter:{display:""},onRest:function(t,e,n){n.key===h.length-1&&f()}});return Object(u.jsxs)("div",{className:j.dialogMessage,children:[b&&Object(u.jsx)("span",{children:n}),!b&&m((function(t,e){var n=e.item,r=e.key;return Object(u.jsx)(i.animated.span,{style:t,children:n},r)}))]})},l=n(27),f=n(42),p=n(2),b=Object(o.a)((function(t){return{dialogWindow:function(t){var e=t.width,n=t.height,r=t.zoom;return{imageRendering:"pixelated",fontFamily:'"Press Start 2P"',textTransform:"uppercase",backgroundColor:"#e2b27e",border:"solid",padding:"".concat(8*r,"px"),position:"absolute",bottom:"".concat(Math.ceil(window.innerHeight-n*r+.05*n),"px"),width:"".concat(Math.ceil(.8*e*r),"px"),left:"50%",transform:"translate(-50%, 0%)",minHeight:"".concat(Math.ceil(n/4*r),"px"),maxHeight:"".concat(Math.ceil(n/3*r),"px")}},dialogTitle:function(t){var e=t.zoom;return{fontSize:"".concat(8*e,"px"),marginBottom:"".concat(6*e,"px"),fontWeight:"bold"}},dialogFooter:function(t){var e=t.zoom;return{fontSize:"".concat(8*e,"px"),cursor:"pointer",textAlign:"end",position:"absolute",right:"".concat(6*e,"px"),bottom:"".concat(6*e,"px")}}}}));e.a=function(){var t=Object(a.c)(f.c),e=Object(a.c)(f.a),n=Object(a.c)(l.e),o=Object(a.c)(l.c),i=Object(a.c)(l.f),s=Object(a.c)(f.b),j=Object(c.useState)(0),h=Object(r.a)(j,2),m=h[0],O=h[1],g=Object(c.useState)(!1),v=Object(r.a)(g,2),y=v[0],x=v[1],w=Object(c.useState)(!1),_=Object(r.a)(w,2),E=_[0],k=_[1],S=b({width:n,height:o,zoom:i}),D=Object(c.useCallback)((function(){y?(x(!1),k(!1),m<t.length-1?O(m+1):(O(0),null===e||void 0===e||e())):(x(!0),k(!0))}),[e,m,y,t.length]);return Object(c.useEffect)((function(){var t=function(t){[p.m,p.B,p.n].includes(t.code)&&D()};return window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}}),[t.length,D]),Object(u.jsxs)("div",{className:S.dialogWindow,children:[Object(u.jsx)("div",{className:S.dialogTitle,children:s}),Object(u.jsx)(d,{message:t[m],zoom:i,forceShowFullMessage:E,onMessageEnded:function(){x(!0)}},m),Object(u.jsx)("div",{onClick:D,className:S.dialogFooter,children:m===t.length-1&&y?"Ok":"Next"})]})}},function(t,e,n){"use strict";var r=n(180),c=n(125),o=n(17),a=n(36),i=n.n(a),u=n(27),s=n(12),d=n(1);function l(t){return t?t.getBoundingClientRect():{bottom:0,height:0,left:0,right:0,top:0,width:0}}var f=function(t){var e=Object(d.useState)(l(t||null)),n=Object(s.a)(e,2),r=n[0],c=n[1],o=Object(d.useCallback)((function(){t&&c(l(t))}),[t]);return Object(d.useLayoutEffect)((function(){if(!t)return function(){};o();var e=new ResizeObserver((function(){return o()}));e.observe(t);var n=new IntersectionObserver((function(){return o()}));return n.observe(t),function(){e&&(n.disconnect(),e.disconnect(),e=null,n=null)}}),[o,t]),r},p=n(10),b=Object(c.a)((function(t){return{textWrapper:function(t){var e=t.zoom,n=t.top,r=t.position,c=t.domRect;return{top:"".concat(((null===c||void 0===c?void 0:c.top)||0)+n*e,"px"),userSelect:"none",userDrag:"none",position:"absolute",textAlign:r,width:"calc(100% - ".concat(2*((null===c||void 0===c?void 0:c.left)||0)+10*e,"px)"),transform:"translate(-50%, 0%)"}},textPositionWrapper:function(t){return"center"===t.position?{left:"50%"}:{}},text:function(t){var e=t.zoom,n=t.color,r=t.size;return{fontFamily:'"Press Start 2P"',fontSize:"".concat(r*e,"px"),textTransform:"uppercase",margin:0,color:n}}}}));e.a=function(t){var e=t.translationKey,n=t.variables,c=void 0===n?{}:n,a=t.config,s=void 0===a?{}:a,d=t.component,l=void 0===d?"p":d,j=Object(o.c)(u.e),h=Object(o.c)(u.c),m=Object(o.c)(u.f),O=Object(o.c)(u.b),g=f(O),v=s.color,y=void 0===v?"#FFFFFF":v,x=s.position,w=void 0===x?"center":x,_=s.top,E=void 0===_?0:_,k=s.size,S=b({height:h,width:j,zoom:m,position:w,domRect:g,color:y,size:void 0===k?10:k,top:E});return Object(p.jsx)("div",{className:i()(S.textWrapper,S.textPositionWrapper),children:Object(p.jsx)(l,{className:S.text,children:Object(p.jsx)(r.a,{id:e,values:c})})})}},,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var r=n(47),c=n.n(r),o=n(17),a=n(177),i=n(179),u=n(98),s=n(43),d=(n(159),n(102)),l=n(10),f=Object(a.a)();c.a.render(Object(l.jsxs)(o.a,{store:s.a,children:[Object(l.jsx)(u.a,{children:Object(l.jsx)("title",{children:"My Phaser Game"})}),Object(l.jsx)(i.a,{theme:f,children:Object(l.jsx)(d.a,{})})]}),document.getElementById("root"))},,,,,,,,,,,,,,function(t,e,n){},,,,,,function(t,e,n){var r={"./sample_indoor":80,"./sample_indoor.json":80,"./sample_map":81,"./sample_map.json":81};function c(t){var e=o(t);if(!n.m[e]){var r=new Error("Module '"+t+"' ('"+e+"') is not available (weak dependency)");throw r.code="MODULE_NOT_FOUND",r}return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}c.keys=function(){return Object.keys(r)},c.resolve=o,c.id=165,t.exports=c},function(t,e,n){var r={"./a_button.png":208,"./b_button.png":209,"./crystal.png":210,"./d_pad_button.png":211,"./heart_empty.png":212,"./heart_full.png":213,"./heart_half.png":214,"./key.png":215};function c(t){var e=o(t);if(!n.m[e]){var r=new Error("Module '"+t+"' ('"+e+"') is not available (weak dependency)");throw r.code="MODULE_NOT_FOUND",r}return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}c.keys=function(){return Object.keys(r)},c.resolve=o,c.id=166,t.exports=c},function(t,e,n){var r={"./city":55,"./city.json":55,"./city.png":134,"./objects":56,"./objects.json":56,"./objects.png":135,"./village":57,"./village.json":57,"./village.png":136};function c(t){var e=o(t);if(!n.m[e]){var r=new Error("Module '"+t+"' ('"+e+"') is not available (weak dependency)");throw r.code="MODULE_NOT_FOUND",r}return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}c.keys=function(){return Object.keys(r)},c.resolve=o,c.id=167,t.exports=c},function(t,e,n){var r={"./coin":82,"./coin.json":82,"./coin.png":200,"./enemy":83,"./enemy.json":83,"./enemy.png":201,"./hero":84,"./hero.json":84,"./hero.png":202,"./npc_01":85,"./npc_01.json":85,"./npc_01.png":203,"./npc_02":86,"./npc_02.json":86,"./npc_02.png":204,"./npc_03":87,"./npc_03.json":87,"./npc_03.png":205,"./npc_04":88,"./npc_04.json":88,"./npc_04.png":206,"./npc_05":89,"./npc_05.json":89,"./npc_05.png":207};function c(t){var e=o(t);if(!n.m[e]){var r=new Error("Module '"+t+"' ('"+e+"') is not available (weak dependency)");throw r.code="MODULE_NOT_FOUND",r}return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}c.keys=function(){return Object.keys(r)},c.resolve=o,c.id=168,t.exports=c},function(t,e,n){var r={"./sample_indoor.json":[80,38],"./sample_map.json":[81,39]};function c(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],c=e[0];return n.e(e[1]).then((function(){return n.t(c,3)}))}c.keys=function(){return Object.keys(r)},c.id=169,t.exports=c},function(t,e,n){var r={"./city.json":[55,0],"./objects.json":[56,1],"./village.json":[57,2]};function c(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],c=e[0];return n.e(e[1]).then((function(){return n.t(c,3)}))}c.keys=function(){return Object.keys(r)},c.id=170,t.exports=c},function(t,e,n){var r={"./city":[55,3,0],"./city.json":[55,3,0],"./city.png":[134,9,27],"./objects":[56,3,1],"./objects.json":[56,3,1],"./objects.png":[135,9,28],"./village":[57,3,2],"./village.json":[57,3,2],"./village.png":[136,9,29]};function c(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],c=e[0];return n.e(e[2]).then((function(){return n.t(c,e[1])}))}c.keys=function(){return Object.keys(r)},c.id=171,t.exports=c},function(t,e,n){var r={"./coin":[137,7,3],"./coin.json":[137,7,3],"./coin.png":[126,9,4],"./enemy":[138,7,5],"./enemy.json":[138,7,5],"./enemy.png":[127,9,6],"./hero":[139,7,7],"./hero.json":[139,7,7],"./hero.png":[128,9,8],"./npc_01":[140,7,9],"./npc_01.json":[140,7,9],"./npc_01.png":[129,9,10],"./npc_02":[141,7,11],"./npc_02.json":[141,7,11],"./npc_02.png":[130,9,12],"./npc_03":[142,7,13],"./npc_03.json":[142,7,13],"./npc_03.png":[131,9,14],"./npc_04":[143,7,15],"./npc_04.json":[143,7,15],"./npc_04.png":[132,9,16],"./npc_05":[144,7,17],"./npc_05.json":[144,7,17],"./npc_05.png":[133,9,18]};function c(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],c=e[0];return n.e(e[2]).then((function(){return n.t(c,e[1])}))}c.keys=function(){return Object.keys(r)},c.id=172,t.exports=c},,function(t,e,n){var r={"./en.json":[186,40]};function c(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],c=e[0];return n.e(e[1]).then((function(){return n.t(c,3)}))}c.keys=function(){return Object.keys(r)},c.id=174,t.exports=c}],[[145,21,22]]]);
//# sourceMappingURL=main.dd3a76f9.chunk.js.map